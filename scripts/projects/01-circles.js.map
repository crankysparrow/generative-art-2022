{"mappings":"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","sources":["src/scripts/projects/01-CirclePack.ts","src/scripts/projects/01-circles.js"],"sourcesContent":["export class Circle {\n\tx: number\n\ty: number\n\tdia: number\n\tindex: number\n\trad: number\n\n\tconstructor(x, y, dia, index) {\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.dia = dia\n\t\tthis.rad = dia / 2\n\t\tthis.index = index\n\t}\n\n\toverlapEdges(w, h, space) {\n\t\treturn (\n\t\t\tthis.x > w - space - this.rad ||\n\t\t\tthis.x < space + this.rad ||\n\t\t\tthis.y > h - space - this.rad ||\n\t\t\tthis.y < space + this.rad\n\t\t)\n\t}\n\n\toverlapOther(circle: Circle, space) {\n\t\tlet d = dist(this.x, this.y, circle.x, circle.y)\n\t\treturn d < this.rad + circle.rad + space\n\t}\n\n\toverlaps(circles: Circles) {\n\t\tif (this.overlapEdges(circles.width, circles.height, circles.space)) return true\n\t\tfor (let i = 0; i < circles.length; i++) {\n\t\t\tif (this.overlapOther(circles[i], circles.space)) return true\n\t\t}\n\t\treturn false\n\t}\n\n\tdistanceTo(circle: Circle) {\n\t\treturn dist(this.x, this.y, circle.x, circle.y)\n\t}\n\n\tdraw() {\n\t\tcircle(this.x, this.y, this.dia)\n\t}\n}\n\nexport class Circles extends Array<Circle> {\n\twidth: number\n\theight: number\n\tspace: number\n\tstats = { attempts: 0 }\n\n\tconstructor({ width, height, space }) {\n\t\tsuper()\n\t\tthis.width = width\n\t\tthis.height = height\n\t\tthis.space = space\n\t}\n\n\tcreateRandomCircle(size) {\n\t\treturn new Circle(floor(random(this.width)), floor(random(this.height)), size, this.length)\n\t}\n\n\tdraw(i: number) {\n\t\tthis[i].draw()\n\t}\n\n\tpack(size, maxAttempts = 500, idealCount = Infinity) {\n\t\tlet attempts = 0\n\t\tlet count = 0\n\n\t\twhile (attempts < maxAttempts && count < idealCount) {\n\t\t\tlet circle = this.createRandomCircle(size)\n\t\t\tif (circle.overlaps(this)) {\n\t\t\t\tattempts++\n\t\t\t} else {\n\t\t\t\tattempts = 0\n\t\t\t\tcount++\n\t\t\t\tthis.push(circle)\n\t\t\t}\n\t\t}\n\n\t\tthis.stats.attempts += attempts\n\t}\n}\n","import { paletteFromUrl } from '../utils/utils.js'\nimport { Circles } from './01-CirclePack.ts'\n\nlet info = document.querySelector('.info')\nlet circles, m, p\nlet colors = [\n\t'#0ab03c',\n\t'#2756fe',\n\t'#31379e',\n\t'#41faeb',\n\t'#6333f5',\n\t'#8bfc1a',\n\t'#c850f1',\n\t'#dd2525',\n\t'#ee73dd',\n\t'#fab97c',\n\t'#fe2e8b',\n\t'#ff831e',\n]\n\nfunction setup() {\n\tcreateCanvas(window.innerWidth, window.innerHeight)\n\tnoLoop()\n\n\tp = createP('')\n\tp.parent(info)\n}\n\nfunction makeCircles() {\n\tm = floor(min(width, height))\n\tcircles = new Circles({\n\t\twidth,\n\t\theight,\n\t\tspace: 2,\n\t})\n\n\tcircles.pack(170, 5, 2)\n\tcircles.pack(120, 3, 3)\n\tcircles.pack(80, 10, 10)\n\tcircles.pack(50, 30)\n\tcircles.pack(30, 100)\n\tcircles.pack(20, 1000)\n\tcircles.pack(15, 2000)\n}\n\nfunction draw() {\n\tmakeCircles()\n\tnoStroke()\n\n\tlet palette = shuffle(colors)\n\n\tbackground(palette.pop())\n\tlet colorLines = palette.pop()\n\tlet colorFills = palette.pop()\n\n\tfill(colorFills)\n\tnoStroke()\n\tcircles.forEach((c) => c.draw())\n\n\tlet lines = 0\n\twhile (lines < 10) {\n\t\tlet [c1, c2] = [random(circles), random(circles)]\n\t\tif (c1.distanceTo(c2) > m / 2) continue\n\n\t\tfill(colorLines)\n\t\tcircle(c1.x, c1.y, c1.dia * 0.4)\n\t\tcircle(c2.x, c2.y, c2.dia * 0.4)\n\n\t\tstrokeWeight(3)\n\t\tstroke(colorLines)\n\t\tnoFill()\n\t\tline(c1.x, c1.y, c2.x, c2.y)\n\n\t\tlines++\n\t}\n\n\tp.html(`generated ${circles.length} circles in ${circles.stats.attempts} attempts`)\n}\n\nfunction windowResized() {\n\tresizeCanvas(window.innerWidth, window.innerHeight)\n\tmakeCircles()\n}\n\nwindow.setup = setup\nwindow.draw = draw\nwindow.windowResized = windowResized\n\nwindow.addEventListener('keypress', (e) => {\n\tif (e.code == 'Space') {\n\t\te.preventDefault()\n\t\tredraw()\n\t}\n})\n"],"names":["$5816534f3f91104d$export$c89a927ffc67e6fa","constructor","x","y","dia","index","this","rad","overlapEdges","w","h","space","overlapOther","circle1","dist","overlaps","circles","width","height","i","length","distanceTo","draw","circle","$5816534f3f91104d$export$765808835a2dc0a2","Array","stats","attempts","super","createRandomCircle","size","floor","random","pack","maxAttempts","idealCount","Infinity","count","push","$1e4ca686bbd2cc84$var$circles","$1e4ca686bbd2cc84$var$m","$1e4ca686bbd2cc84$var$p","$1e4ca686bbd2cc84$var$info","document","querySelector","$1e4ca686bbd2cc84$var$colors","$1e4ca686bbd2cc84$var$makeCircles","min","window","setup","createCanvas","innerWidth","innerHeight","noLoop","createP","parent","noStroke","palette","shuffle","background","pop","colorLines","colorFills","fill","forEach","c","lines","c1","c2","strokeWeight","stroke","noFill","line","html","windowResized","resizeCanvas","addEventListener","e","code","preventDefault","redraw"],"version":3,"file":"01-circles.js.map"}