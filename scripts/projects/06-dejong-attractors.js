(()=>{function t(t){return t&&t.__esModule?t.default:t}function e(t,e,n,o=!0){colorMode(HSB);let r,a,i=hue(t),s=hue(e);o?(r=s>i?s-i:360-i+s,a=i+r*n,a>360&&(a-=360)):(r=s>i?i+(360-s):i-s,a=i-r*n,a<=0&&(a=360+a));let l=saturation(t),c=l+(saturation(e)-l)*n,d=brightness(t),u=brightness(e);return color(a,c,d+(u-d)*n)}let n,o,r,a,i,s,l,c,d,u,p,h,b,m,g,f,x,v,w,y=document.createElement("style");y.textContent=t('.custom-controls{color:#a9acbd;width:270px;background-color:#19191d;font-size:.8rem;line-height:1.3;position:absolute;top:0}.custom-controls button.toggle-btn{color:#a9acbd;width:100%;text-align:left;height:1.4rem;--toggleSize:.6rem;border:none;align-items:center;padding:0 .5rem;font-size:.8rem;line-height:1;display:flex;position:relative}.custom-controls button.toggle-btn:after,.custom-controls button.toggle-btn:before{width:var(--toggleSize);height:var(--toggleSize);content:"";clip-path:polygon(0% 0%,100% 0%,100% 100%,0% 0%);background:#a9acbd;transition:all .3s;display:block;position:absolute;top:50%;right:.5rem;transform:translateY(-50%)translate(.1rem,-.1rem)}.custom-controls button.toggle-btn:before{clip-path:polygon(0% 0%,0% 100%,100% 100%,0% 0%);border-top:none;transform:translateY(-50%)translate(-.1rem,.1rem)}.custom-controls button.toggle-btn[aria-expanded=false]:after,.custom-controls button.toggle-btn[aria-expanded=false]:before{transform:translateY(-50%)}.custom-controls .section{border-top:1px solid #2d2d39}.custom-controls .section:first-child{border-top:0}.custom-controls .section h4,.custom-controls .input-container,.custom-controls .input-container label{margin-bottom:3px}.custom-controls .input-container input[type=text]:focus{outline:1px solid #b7c0ee}.custom-controls .slider-container{width:100%;border-top:1px solid #24242a;align-items:center;padding-top:2px;padding-bottom:2px;display:flex}.custom-controls .slider-container:first-child{border-top:0}.custom-controls .slider-container label{width:100%;justify-content:space-between;align-items:center;display:flex}.custom-controls .slider-container label .label-text{margin-right:5px}.custom-controls .slider-container label .slider-val{background:#2d2d39;border-radius:2px;margin-left:auto;padding:2px;display:block}.custom-controls .select-container{border-top:1px solid #24242a;align-items:center;padding:2px 0;display:flex}.custom-controls .select-container select{margin-left:5px}.custom-controls .select-container:first-child{border-top:0}.custom-controls select{color:#a9acbd;box-shadow:none;background:#2d2d39;border:1px solid #24242a}.custom-controls .btn-container{flex-wrap:wrap;justify-content:end;display:flex;position:relative}.custom-controls .btn-container.break{padding-top:8px}.custom-controls .btn-container.break:before{content:"";width:calc(100% + 1rem);height:1px;background:#24242a;position:absolute;top:0;left:-.5rem}.custom-controls .btn-container button{margin-top:3px;margin-left:5px}.custom-controls input[type=range]{-webkit-appearance:none;width:150px;height:.5rem;cursor:pointer;background-color:#2d2d39;background-image:linear-gradient(#2d2d39 0% 100%);border-radius:.25rem}.custom-controls input[type=range]::-webkit-slider-thumb,.custom-controls input[type=range]::-moz-range-thumb,.custom-controls input[type=range]::-ms-thumb{-webkit-appearance:none;width:1rem;height:1rem;background-color:#a9acbd;border:none;border-radius:50%;transition:background-color .2s}.custom-controls input[type=range]::-webkit-slider-thumb:hover,.custom-controls input[type=range]::-moz-range-thumb:hover,.custom-controls input[type=range]::-ms-thumb:hover{background-color:#32de8a;border:2px solid #000}.custom-controls input[type=range]::-webkit-slider-runnable-track,.custom-controls input[type=range]::-moz-range-track,.custom-controls input[type=range]::-ms-track{-webkit-appearance:none;box-shadow:none;background:0 0;border:none}.custom-controls a{color:#b7c0ee;text-decoration:underline}.custom-controls a:hover,.custom-controls a:focus{color:#32de8a}.custom-controls .controls-inner{opacity:1;height:auto;padding:.5rem .5rem .3rem;transition:all .3s}.custom-controls .controls-inner.hidden{opacity:0;height:0;padding:0}.custom-controls .error-label{color:#df2935;font-size:.8rem;font-weight:500;transition:all .3s}.custom-controls input:focus,.custom-controls button:focus,.custom-controls select:focus{outline:2px solid #a9acbd}.custom-controls .tabs-container button{margin-right:3px}.custom-controls .tabs-container button.active{background-color:#202025}.custom-controls .panel{background:#202025;padding:3px 5px;display:none}.custom-controls .panel.active{display:block}input[type=text]{color:#a9acbd;width:100%;background-color:#2d2d39;border:none;margin:0;padding:0 .4rem;font-size:.8rem;line-height:1.6}input[type=text]:focus{color:#fff;outline:2px solid #b7c0ee}button{color:#a9acbd;cursor:pointer;background-color:#2d2d39;border:none;margin:0;padding:4px;font-size:.8rem;font-weight:500;transition:all .3s}button:hover,button:focus{background-color:#252541;font-weight:700}.radio-opts{flex-direction:row;display:flex}.radio-opts label{margin-right:.5rem}'),document.body.appendChild(y);class S{constructor(t){this.shown=this.shownFromStorage()??!0,this.rightSide=t,this.container=this.buildContainer(),this.count=0,this.activePanel=!1,this.panels={},this.panelIds=[],this.tabBtns=[]}shownFromStorage(){let t=localStorage.getItem("showcontrols");if(t)return boolean(t)}buildContainer(){let t=createDiv().class("custom-controls");t.style(this.rightSide?"right":"left",0),t.style("top",0);let e=createButton("toggle controls").class("toggle-btn").parent(t).attribute("aria-expanded",this.shown?"true":"false"),n=createDiv().class("controls-inner").parent(t).attribute("aria-hidden",this.shown?"false":"true");return this.shown||n.addClass("hidden"),e.elt.addEventListener("click",(()=>{this.shown?(n.addClass("hidden"),n.attribute("aria-hidden","true"),e.attribute("aria-expanded","false"),localStorage.setItem("showcontrols","false"),this.shown=!1):(n.removeClass("hidden"),n.attribute("aria-hidden","false"),e.attribute("aria-expanded","true"),localStorage.setItem("showcontrols","true"),this.shown=!0)})),n}addPanelTabs(){this.tabsContainer=createDiv().class("tabs-container").parent(this.container)}addPanel({titleString:t,id:e=`controls-panel-${this.count}`}){this.count++,this.tabsContainer||this.addPanelTabs();let n=createButton(t).parent(this.tabsContainer).attribute("data-for",e);this.tabBtns.push(n),n.elt.addEventListener("click",(()=>{this.activatePanel(e,n)}));let o=createDiv().addClass("panel").attribute("id",e).parent(this.container);return this.panels[e]=o,this.panelIds.push(e),1==this.panelIds.length&&(o.addClass("active"),n.addClass("active")),o}activatePanel(t,e){this.tabBtns.forEach((t=>t.removeClass("active"))),e.addClass("active"),this.panelIds.forEach((t=>this.panels[t].removeClass("active"))),this.panels[t].addClass("active")}addSection({id:t="",labelString:e,style:n}){this.count++,t=t??`controls-section-${this.count}`;let o=createDiv().parent(this.container).class("section").attribute("id",t);if(e){createElement("h4",e).class("section-title").parent(o)}if(n){Object.keys(n).forEach((t=>{o.style(t,n[t])}))}return o}createInput({id:t,labelString:e,onChange:n,parent:o=this.container}){this.count++;let r,a=createDiv().parent(o).class("input-container"),i=(createElement("label",e).style("display","block").parent(a).attribute("for",t),createInput("").parent(a).attribute("id",t)),s=createSpan("").class("error-label").parent(a),l={input:i,container:a};return i.input((t=>{r&&clearTimeout(r),r=setTimeout((function(){let e=n(t);e&&e.error?(console.log(s),s.html(e.error)):s.html("")}),300)})),l}btn({onClick:t,labelString:e,parent:n}){this.count++;let o=createButton(e).class("controls-btn").parent(n);return o.elt.addEventListener("click",t),o}createBtn({onClick:t,labelString:e,parent:n=this.container}){let o=createDiv().parent(n).class("btn-container");return this.btn({onClick:t,labelString:e,parent:o})}createBtnSet({btns:t,parent:e=this.container,style:n=!1,className:o=!1}){let r=createDiv().parent(e).class("btn-container");o&&r.addClass(o);let a=[];if(t.forEach((t=>{t.parent=r,a.push(this.btn(t))})),n){Object.keys(n).forEach((t=>{r.style(t,n[t])}))}return a}createText({text:t,parent:e=this.container}){return createDiv(t).parent(e).class("text")}createSlider({id:t=`controls-${this.count}`,labelString:e,onChange:n,min:o,max:r,step:a=1,val:i,parent:s=this.container}){this.count++,i=i??floor((r-o)/2+o);let l=createDiv().parent(s).class("slider-container"),c=createElement("label").parent(l).attribute("for",t),d=(createSpan(e).class("label-text").parent(c),createSlider(o,r,i,a).parent(c).attribute("id",t)),u=createSpan(i).class("slider-val").parent(c);return d.update=function(t){d.value(t),u.html(t)},d.input((t=>{u.html(d.value()),n&&n(t)})),d}createPaletteInput({id:t="urlinput",labelString:e="custom palette: ",onPaletteUpdate:n}){return this.createInput({id:t,labelString:e,onChange:function(t){let e=t.target.value;if(""==e)return;if(/coolors.co\/(?:[a-fA-Z0-9]{6}-){1,}(?:[a-fA-Z0-9]{6})$/.test(e)){let t=e.split("coolors.co/").slice(1)[0].split("-").map((t=>"#"+t));return n(t)}return{error:"invalid url"}}})}createSelect({id:t,labelString:e,options:n,useOptionsIndex:o=!1,namesAndVals:r=!1,selected:a,onChange:i,parent:s=this.container,style:l}){this.count++,t=t??`controls-sel-${this.count}`;let c=createDiv().parent(s).class("select-container");if(l){Object.keys(l).forEach((t=>{c.style(t,l[t])}))}let d=createElement("label",e).parent(c).attribute("for",t),u=createSelect().parent(c).attribute("id",t);for(let t=0;t<n.length;t++)r?u.option(n[t].name,n[t].val):u.option(o?t:n[t]);return a&&u.selected(a),u.changed(i),{el:u,container:c,label:d}}createRadio({id:t,labelString:e,options:n,selected:o,onChange:r,parent:a=this.container}){this.count++,t=t??`controls-radio-${this.count}`;let i=createDiv().style("display","flex").parent(a).class("radio-container"),s=createRadio().attribute("id",t).attribute("class","radio-opts").parent(i);return n.forEach(((t,e)=>{s.option(t)})),o&&s.selected(o),s.changed(r),s}}let k=[{a:1.1,b:3.09,c:-1.6,d:3.31},{a:1.1,b:2.08,c:1.6,d:3.31},{a:1.14,b:2.233,c:-3.434,d:1.497},{a:-.635,b:1.724,c:1.77,d:-.955},{a:-.686,b:-1.761,c:1.029,d:1.544},{a:1.006,b:-1.062,c:3.192,d:1.148},{a:1.313,b:2.772,c:1.072,d:-1.348},{a:1.284,b:1.921,c:2.946,d:1.984}],C={type:["circles","points","lines"],palette:["bw","random"],vals:[...k,"random"]};function E(){background(0,0,5),function(){let t=m.el.value();"random"==t?(n=Math.round(1e3*random(-3,3))/1e3,o=Math.round(1e3*random(-3,3))/1e3,r=Math.round(1e3*random(-4,4))/1e3,a=Math.round(1e3*random(-3,3))/1e3):"custom"==t?(n=f.value(),o=x.value(),r=v.value(),a=w.value()):({a:n,b:o,c:r,d:a}=k[t]),i=random(c),s=random(c);let e=0;for(;e<10;){let t=sin(n*s)-cos(o*i),l=sin(r*i)-cos(a*s);i=t,s=l,e++}}(),function(){if("color"==g.value()){let t=random(360),e=random(t,t+200)%360;u=color(t,random(80,100),random(70,100)),p=color(e,random(80,100),random(70,100)),fill(u),rect(width-100,height-20,10,10),fill(p),rect(width-80,height-20,10,10)}else u=color(0,0,0),p=color(0,0,0)}(),fill(50),text(`a: ${n}`,width-100,height-100),text(`b: ${o}`,width-100,height-80),text(`c: ${r}`,width-100,height-60),text(`d: ${a}`,width-100,height-40),d=dist(0,0,c,c)}function D(t,e,n=.25){return{x:t*n*c,y:e*n*c}}window.setup=function(){createCanvas(window.innerWidth,window.innerHeight),function(){h=new S;let t=h.addPanel({titleString:"general"}),e=h.addPanel({titleString:"custom attractors"});b=h.createSelect({id:"type-sel",labelString:"type",options:C.type,selected:"points",onChange:E,parent:t});let n=[];k.forEach(((t,e)=>{n.push({name:`preset ${e}`,val:e})})),n.push({name:"random",val:"random"}),n.push({name:"custom",val:"custom"}),m=h.createSelect({id:"vals-sel",labelString:"attractors",options:n,onChange:E,namesAndVals:!0,selected:"random",parent:t}),g=h.createRadio({labelString:"colors",options:["bw","color"],selected:"color",onChange:E,parent:t});h.createBtnSet({btns:[{onClick:E,labelString:"restart"},{onClick:()=>saveCanvas(),labelString:"save"}]});h.createText({text:'make sure "custom" is selected in general panel and click "restart". not all combinations will create interesting results!',parent:e}),f=h.createSlider({labelString:"a",min:-4,max:4,step:.001,parent:e}),x=h.createSlider({labelString:"b",min:-4,max:4,step:.001,parent:e}),v=h.createSlider({labelString:"c",min:-4,max:4,step:.001,parent:e}),w=h.createSlider({labelString:"d",min:-4,max:4,step:.001,parent:e})}(),colorMode(HSB),l=1e3,c=.9*min(width,height),E()},window.draw=function(){let t=b.el.value();"points"==t?function(){push(),translate((width-c)/2,(height-c)/2),translate(c/2,c/2),noFill();let t=0;for(;t<l;){let l=sin(n*s)-cos(o*i),d=sin(r*i)-cos(a*s),h=l*c*.25,b=d*c*.25,m=(dist(l,d,i,s),e(u,p,abs(l-i)/2));m.setAlpha(.5),stroke(m),i=l,s=d,point(h,b),t++}pop()}():"circles"==t?function(){push(),translate((width-c)/2,(height-c)/2),translate(c/2,c/2),noStroke(),u.setAlpha(.5),fill(u);let t=0;for(;t<l;){let e=sin(n*s)-cos(o*i),l=sin(r*i)-cos(a*s);i=e,s=l,circle(e*c*.25,l*c*.25,2),t++}pop()}():"lines"==t&&function(){push(),translate((width-c)/2,(height-c)/2),translate(c/2,c/2),noFill(),stroke(10,10,10,.009);let t=0;for(;t<l;){let l=sin(n*s)-cos(o*i),c=sin(r*i)-cos(a*s),d=D(l,c),h=D(i,s),b=dist(l,c,i,s),m=e(u,p,b/2.82842);m.setAlpha(.009),stroke(m),line(d.x,d.y,h.x,h.y),i=l,s=c,t++}pop()}()}})();
//# sourceMappingURL=06-dejong-attractors.js.map
