(()=>{function t(t){return t&&t.__esModule?t.default:t}const e=t=>t.split("coolors.co/").slice(1)[0].split("-").map((t=>"#"+t));let s=document.createElement("style");s.textContent=t('.custom-controls{color:#a9acbd;width:270px;background-color:#19191d;font-size:.8rem;line-height:1.3;position:absolute;top:0}.custom-controls button.toggle-btn{color:#a9acbd;width:100%;text-align:left;height:1.4rem;--toggleSize:.6rem;border:none;align-items:center;padding:0 .5rem;font-size:.8rem;line-height:1;display:flex;position:relative}.custom-controls button.toggle-btn:after,.custom-controls button.toggle-btn:before{width:var(--toggleSize);height:var(--toggleSize);content:"";clip-path:polygon(0% 0%,100% 0%,100% 100%,0% 0%);background:#a9acbd;transition:all .3s;display:block;position:absolute;top:50%;right:.5rem;transform:translateY(-50%)translate(.1rem,-.1rem)}.custom-controls button.toggle-btn:before{clip-path:polygon(0% 0%,0% 100%,100% 100%,0% 0%);border-top:none;transform:translateY(-50%)translate(-.1rem,.1rem)}.custom-controls button.toggle-btn[aria-expanded=false]:after,.custom-controls button.toggle-btn[aria-expanded=false]:before{transform:translateY(-50%)}.custom-controls .section{border-top:1px solid #2d2d39}.custom-controls .section:first-child{border-top:0}.custom-controls .section h4,.custom-controls .input-container,.custom-controls .input-container label{margin-bottom:3px}.custom-controls .input-container input[type=text]:focus{outline:1px solid #b7c0ee}.custom-controls .slider-container{width:100%;border-top:1px solid #24242a;align-items:center;padding-top:2px;padding-bottom:2px;display:flex}.custom-controls .slider-container:first-child{border-top:0}.custom-controls .slider-container label{width:100%;justify-content:space-between;align-items:center;display:flex}.custom-controls .slider-container label .label-text{margin-right:5px}.custom-controls .slider-container label .slider-val{background:#2d2d39;border-radius:2px;margin-left:auto;padding:2px;display:block}.custom-controls .select-container{border-top:1px solid #24242a;align-items:center;padding:2px 0;display:flex}.custom-controls .select-container select{margin-left:5px}.custom-controls .select-container:first-child{border-top:0}.custom-controls select{color:#a9acbd;box-shadow:none;background:#2d2d39;border:1px solid #24242a}.custom-controls .btn-container{flex-wrap:wrap;justify-content:end;display:flex;position:relative}.custom-controls .btn-container.break{padding-top:8px}.custom-controls .btn-container.break:before{content:"";width:calc(100% + 1rem);height:1px;background:#24242a;position:absolute;top:0;left:-.5rem}.custom-controls .btn-container button{margin-top:3px;margin-left:5px}.custom-controls input[type=range]{-webkit-appearance:none;width:150px;height:.5rem;cursor:pointer;background-color:#2d2d39;background-image:linear-gradient(#2d2d39 0% 100%);border-radius:.25rem}.custom-controls input[type=range]::-webkit-slider-thumb,.custom-controls input[type=range]::-moz-range-thumb,.custom-controls input[type=range]::-ms-thumb{-webkit-appearance:none;width:1rem;height:1rem;background-color:#a9acbd;border:none;border-radius:50%;transition:background-color .2s}.custom-controls input[type=range]::-webkit-slider-thumb:hover,.custom-controls input[type=range]::-moz-range-thumb:hover,.custom-controls input[type=range]::-ms-thumb:hover{background-color:#32de8a;border:2px solid #000}.custom-controls input[type=range]::-webkit-slider-runnable-track,.custom-controls input[type=range]::-moz-range-track,.custom-controls input[type=range]::-ms-track{-webkit-appearance:none;box-shadow:none;background:0 0;border:none}.custom-controls a{color:#b7c0ee;text-decoration:underline}.custom-controls a:hover,.custom-controls a:focus{color:#32de8a}.custom-controls .controls-inner{opacity:1;height:auto;padding:.5rem .5rem .3rem;transition:all .3s}.custom-controls .controls-inner.hidden{opacity:0;height:0;padding:0}.custom-controls .error-label{color:#df2935;font-size:.8rem;font-weight:500;transition:all .3s}.custom-controls input:focus,.custom-controls button:focus,.custom-controls select:focus{outline:2px solid #a9acbd}.custom-controls .tabs-container button{margin-right:3px}.custom-controls .tabs-container button.active{background-color:#202025}.custom-controls .panel{background:#202025;padding:3px 5px;display:none}.custom-controls .panel.active{display:block}input[type=text]{color:#a9acbd;width:100%;background-color:#2d2d39;border:none;margin:0;padding:0 .4rem;font-size:.8rem;line-height:1.6}input[type=text]:focus{color:#fff;outline:2px solid #b7c0ee}button{color:#a9acbd;cursor:pointer;background-color:#2d2d39;border:none;margin:0;padding:4px;font-size:.8rem;font-weight:500;transition:all .3s}button:hover,button:focus{background-color:#252541;font-weight:700}.radio-opts{flex-direction:row;display:flex}.radio-opts label{margin-right:.5rem}'),document.body.appendChild(s);class o{constructor(t){this.shown=this.shownFromStorage()??!0,this.rightSide=t,this.container=this.buildContainer(),this.count=0,this.activePanel=!1,this.panels={},this.panelIds=[],this.tabBtns=[]}shownFromStorage(){let t=localStorage.getItem("showcontrols");if(t)return boolean(t)}buildContainer(){let t=createDiv().class("custom-controls");t.style(this.rightSide?"right":"left",0),t.style("top",0);let e=createButton("toggle controls").class("toggle-btn").parent(t).attribute("aria-expanded",this.shown?"true":"false"),s=createDiv().class("controls-inner").parent(t).attribute("aria-hidden",this.shown?"false":"true");return this.shown||s.addClass("hidden"),e.elt.addEventListener("click",(()=>{this.shown?(s.addClass("hidden"),s.attribute("aria-hidden","true"),e.attribute("aria-expanded","false"),localStorage.setItem("showcontrols","false"),this.shown=!1):(s.removeClass("hidden"),s.attribute("aria-hidden","false"),e.attribute("aria-expanded","true"),localStorage.setItem("showcontrols","true"),this.shown=!0)})),s}addPanelTabs(){this.tabsContainer=createDiv().class("tabs-container").parent(this.container)}addPanel({titleString:t,id:e=`controls-panel-${this.count}`}){this.count++,this.tabsContainer||this.addPanelTabs();let s=createButton(t).parent(this.tabsContainer).attribute("data-for",e);this.tabBtns.push(s),s.elt.addEventListener("click",(()=>{this.activatePanel(e,s)}));let o=createDiv().addClass("panel").attribute("id",e).parent(this.container);return this.panels[e]=o,this.panelIds.push(e),1==this.panelIds.length&&(o.addClass("active"),s.addClass("active")),o}activatePanel(t,e){this.tabBtns.forEach((t=>t.removeClass("active"))),e.addClass("active"),this.panelIds.forEach((t=>this.panels[t].removeClass("active"))),this.panels[t].addClass("active")}addSection({id:t="",labelString:e,style:s}){this.count++,t=t??`controls-section-${this.count}`;let o=createDiv().parent(this.container).class("section").attribute("id",t);if(e){createElement("h4",e).class("section-title").parent(o)}if(s){Object.keys(s).forEach((t=>{o.style(t,s[t])}))}return o}createInput({id:t,labelString:e,onChange:s,parent:o=this.container}){this.count++;let r,n=createDiv().parent(o).class("input-container"),i=(createElement("label",e).style("display","block").parent(n).attribute("for",t),createInput("").parent(n).attribute("id",t)),a=createSpan("").class("error-label").parent(n),l={input:i,container:n};return i.input((t=>{r&&clearTimeout(r),r=setTimeout((function(){let e=s(t);e&&e.error?(console.log(a),a.html(e.error)):a.html("")}),300)})),l}btn({onClick:t,labelString:e,parent:s}){this.count++;let o=createButton(e).class("controls-btn").parent(s);return o.elt.addEventListener("click",t),o}createBtn({onClick:t,labelString:e,parent:s=this.container}){let o=createDiv().parent(s).class("btn-container");return this.btn({onClick:t,labelString:e,parent:o})}createBtnSet({btns:t,parent:e=this.container,style:s=!1,className:o=!1}){let r=createDiv().parent(e).class("btn-container");o&&r.addClass(o);let n=[];if(t.forEach((t=>{t.parent=r,n.push(this.btn(t))})),s){Object.keys(s).forEach((t=>{r.style(t,s[t])}))}return n}createText({text:t,parent:e=this.container}){return createDiv(t).parent(e).class("text")}createSlider({id:t=`controls-${this.count}`,labelString:e,onChange:s,min:o,max:r,step:n=1,val:i,parent:a=this.container}){this.count++,i=i??floor((r-o)/2+o);let l=createDiv().parent(a).class("slider-container"),c=createElement("label").parent(l).attribute("for",t),h=(createSpan(e).class("label-text").parent(c),createSlider(o,r,i,n).parent(c).attribute("id",t)),d=createSpan(i).class("slider-val").parent(c);return h.update=function(t){h.value(t),d.html(t)},h.input((t=>{d.html(h.value()),s&&s(t)})),h}createPaletteInput({id:t="urlinput",labelString:s="custom palette: ",onPaletteUpdate:o}){return this.createInput({id:t,labelString:s,onChange:function(t){let s=t.target.value;if(""==s)return;if(/coolors.co\/(?:[a-fA-Z0-9]{6}-){1,}(?:[a-fA-Z0-9]{6})$/.test(s)){let t=e(s);return o(t)}return{error:"invalid url"}}})}createSelect({id:t,labelString:e,options:s,useOptionsIndex:o=!1,namesAndVals:r=!1,selected:n,onChange:i,parent:a=this.container,style:l}){this.count++,t=t??`controls-sel-${this.count}`;let c=createDiv().parent(a).class("select-container");if(l){Object.keys(l).forEach((t=>{c.style(t,l[t])}))}let h=createElement("label",e).parent(c).attribute("for",t),d=createSelect().parent(c).attribute("id",t);for(let t=0;t<s.length;t++)r?d.option(s[t].name,s[t].val):d.option(o?t:s[t]);return n&&d.selected(n),d.changed(i),{el:d,container:c,label:h}}createRadio({id:t,labelString:e,options:s,selected:o,onChange:r,parent:n=this.container}){this.count++,t=t??`controls-radio-${this.count}`;let i=createDiv().style("display","flex").parent(n).class("radio-container"),a=createRadio().attribute("id",t).attribute("class","radio-opts").parent(i);return s.forEach(((t,e)=>{a.option(t)})),o&&a.selected(o),a.changed(r),a}}function r(t){return 1-Math.pow(1-t,3)}class n{constructor({size:t,multMin:e=.1,multMax:s=.3,width:o,height:r,space:n,overlapEdges:i=!1,spaceFromEdge:a=20,build:l=!0,attemptsEachStep:c=1e3,steps:h=10}){this.circles=[],this.size=t,this.multMin=e,this.multMax=s,this.diff=s-e,this.width=o,this.height=r,this.space=n??.01*this.width,this.overlapEdges=i,this.attemptsEachStep=c,this.steps=h,this.spaceFromEdge=a,l&&this.circleTime()}circleTime(){let t=0,e=0;for(;e<this.steps;){let s=0,o=this.multMax-this.diff*r(e/this.steps),n=floor(this.size*o),a=0,l=0;for(;s<this.attemptsEachStep;){t++,a++;let e=new i(Math.floor(random(this.width)),Math.floor(random(this.height)),n,this.circles.length);this.checkOverlap(e)?s++:(l++,this.circles.push(e),s=0)}e+=1,console.log({step:e,timesThisStep:a,addedThisStep:l})}console.log({timesTried:t,length:this.circles.length})}circleTimeOne(t){let e=0;for(;e<1;){let s=0,o=this.multMax-this.diff*r(e),n=floor(this.size*o);for(;s<this.attemptsEachStep;){0;let e=new i(Math.floor(random(this.width)),Math.floor(random(this.height)),n,t||this.circles.length);if(!this.checkOverlap(e))return this.circles.push(e),e;s++}e+=this.stepSize}}remove(t){let e=t.index;this.circles.splice(e,1),this.updateIndex()}updateIndex(){for(let t=0;t<this.circles.length;t++)this.circles[t].index=t}newCircle(t,e=10,s=!0,o=0,r){if(o>e)return void(s&&console.log("size: "+t+" give up"));let n=new i(Math.floor(random(this.width)),Math.floor(random(this.height)),t,r||this.circles.length);this.checkOverlap(n)?(o++,this.newCircle(t,e,s,o)):(this.circles.push(n),s&&console.log({size:t,attempts:o}))}checkOverlap(t){if(!this.overlapEdges&&(t.x-t.d/2<this.space||t.x+t.d/2>this.width-this.space||t.y-t.d/2<this.space||t.y+t.d/2>this.height-this.space))return!0;if(this.overlapEdges&&(t.x<this.spaceFromEdge||t.x>this.width-this.spaceFromEdge||t.y<this.spaceFromEdge||t.y>this.height-this.spaceFromEdge))return!0;for(let e=0;e<this.circles.length;e++){let s=this.circles[e];if(dist(t.x,t.y,s.x,s.y)-this.space<t.d/2+s.d/2)return!0}return!1}}class i{constructor(t,e,s,o){this.x=t,this.y=e,this.d=s,this.index=o}}class a{constructor({r:t,ctr:e,col:s,weight:o=5,rInc:r=.3,thetaInc:n=.25,startAt:i=0,scaling:a=!1,maxScale:l=2,theta:c=0,crcl:h,doFade:d=!0}={}){this.theta=c,this.rMax=t??min(width,height),this.vertices=[],this.ctr=e??createVector(width/2,height/2),this.r=0,this.done=!1,this.col=s?color(s):color(20,20,20),this.weight=o,this.rInc=r,this.thetaInc=n,this.startAt=i,this.scaling=a,this.scale=1,this.maxScale=l,this.currentFade=255,this.faded=!1,this.crcl=h??null,this.doFade=d}updateShape(){let t=this.r*cos(this.theta),e=this.r*sin(this.theta);this.vertices.push([t,e]),this.r+=this.rInc,this.theta+=this.thetaInc,this.r>=this.rMax&&(this.done=!0)}reset(){this.currentFade=255,this.faded=!1,this.col.setAlpha(this.currentFade),this.vertices=[],this.r=0,this.done=!1}update(){this.done||this.updateShape(),this.done&&this.doFade&&!this.faded&&this.fade(),this.scaling&&(this.scale+=this.scale<this.maxScale?.001:0)}fade(){this.currentFade-=2,this.col.setAlpha(this.currentFade),this.currentFade<0&&(this.faded=!0)}show(){push(),noFill(),stroke(this.col),strokeWeight(this.weight),translate(this.ctr.x,this.ctr.y),scale(this.scale),beginShape(),this.vertices.forEach((t=>{curveVertex(t[0],t[1])})),endShape(),pop()}}let l=e("https://coolors.co/52ffee-0c7489-271f30-4fb477-345511");function c(t){return{r:t.d/2,ctr:createVector(t.x,t.y),startAt:0==frameCount?floor(random(500)):frameCount+floor(random(500)),rInc:.6,thetaInc:.55,weight:2,scaling:!0,maxScale:1.5,crcl:t,col:random(l)}}function h(){let t=new n({size:400,stepSize:5,attemptsEachStep:200,width:width,height:height,multMax:1,multMin:.7,overlapEdges:!0,spaceFromEdge:50,space:-100}),e=[];return t.circles.forEach((t=>{e.push(new a(c(t)))})),{crcls:t,spirals:e}}function d(t,e){for(let s=0;s<t.length;s++)if(t[s]&&frameCount>t[s].startAt)if(t[s].faded){let o=t[s].crcl;e.remove(o);let r=e.circleTimeOne();t[s]=null,r&&(t[s]=new a(c(r)))}else t[s].update(),t[s].show();if(frameCount%200==0){let s=e.circleTimeOne();console.log(s),s&&t.push(s)}}function p(){let t=min(width,height);return new a({r:.4*t})}let u={options:["many scaling spirals","one spiral","swoosh"]};window.stuff=u;let g=u.options[2];function m(){if("many scaling spirals"==g){let t=h();u.crcls=t.crcls,u.spirals=t.spirals;let e=h();u.crcls2=e.crcls,u.spirals2=e.spirals}else"one spiral"==g?u.spiral=p():g==u.options[2]&&(u.spirals=function(){let t=.45*min(width,height),e=[],s=0,o=floor(random(3,8)),r=["#307351","#70163c","#e5d352","#2e0f15","#d9e76c"],n=TWO_PI/10,i=n/o;for(;s<o;){let o=0;for(;o<10;)e.push(new a({r:t,rInc:1,thetaInc:.01,theta:o*n+i*s,col:r[s%(r.length-1)],doFade:!1})),o++;s++}return e}())}window.setup=function(){createCanvas(window.innerWidth,window.innerHeight),function(){let t=new o,e=t.createSelect({id:"options-sel",labelString:"mode",options:u.options,selected:u.options[2],onChange:t=>{g=e.el.value(),m()}});u.controls=t}(),m()},window.draw=function(){var t;"many scaling spirals"==g?(background("#DCFFFD"),d(u.spirals,u.crcls),d(u.spirals2,u.crcls2)):"one spiral"==g?(t=u.spiral,background(50),t.faded&&t.reset(),t.update(),t.show()):g==u.options[2]&&function(t){background("#95B2B8");for(let e=0;e<t.length;e++)t[e].update(),t[e].show()}(u.spirals)}})();
//# sourceMappingURL=07-spirals.js.map
