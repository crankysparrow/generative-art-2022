{"mappings":"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","sources":["src/scripts/utils/utils.js","src/scripts/utils/Controls.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-4d17470ce3b9f544.js","src/scripts/utils/Circles.js","src/scripts/projects/07-spirals/helpers/spiralclass.js","src/scripts/projects/07-spirals/helpers/manySpiralsFunctions.js","src/scripts/projects/07-spirals/helpers/oneSpiralFunctions.js","src/scripts/projects/07-spirals/07-spirals.js"],"sourcesContent":["export const paletteFromUrl = (url) =>\n\turl\n\t\t.split('coolors.co/')\n\t\t.slice(1)[0]\n\t\t.split('-')\n\t\t.map((c) => '#' + c)\n\nexport const addScript = (src) => {\n\tlet s = document.createElement('script')\n\ts.setAttribute('src', src)\n\tdocument.body.appendChild(s)\n}\n","import { paletteFromUrl } from './utils.js'\n// import * as classes from '../../styles/components/controls.module.scss'\nimport cssText from 'bundle-text:../../styles/components/controls.scss'\nlet style = document.createElement('style')\nstyle.textContent = cssText\ndocument.body.appendChild(style)\n\nexport class Controls {\n\tconstructor(rightSide) {\n\t\tthis.shown = this.shownFromStorage() ?? true\n\t\tthis.rightSide = rightSide\n\t\tthis.container = this.buildContainer()\n\t\tthis.count = 0\n\t\tthis.activePanel = false\n\t\tthis.panels = {}\n\t\tthis.panelIds = []\n\t\tthis.tabBtns = []\n\t}\n\n\tshownFromStorage() {\n\t\tlet show = localStorage.getItem('showcontrols')\n\n\t\tif (show) {\n\t\t\treturn boolean(show)\n\t\t}\n\t}\n\n\tbuildContainer() {\n\t\tlet outer = createDiv().class('custom-controls')\n\t\t// .style(this.rightSide ? window.innerWidth - 270 : 0, 0)\n\t\touter.style(this.rightSide ? 'right' : 'left', 0)\n\t\touter.style('top', 0)\n\t\tlet btn = createButton('toggle controls')\n\t\t\t.class('toggle-btn')\n\t\t\t.parent(outer)\n\t\t\t.attribute('aria-expanded', this.shown ? 'true' : 'false')\n\t\tlet c = createDiv()\n\t\t\t.class('controls-inner')\n\t\t\t.parent(outer)\n\t\t\t.attribute('aria-hidden', this.shown ? 'false' : 'true')\n\t\tif (!this.shown) c.addClass('hidden')\n\n\t\tbtn.elt.addEventListener('click', () => {\n\t\t\tif (this.shown) {\n\t\t\t\tc.addClass('hidden')\n\t\t\t\tc.attribute('aria-hidden', 'true')\n\t\t\t\tbtn.attribute('aria-expanded', 'false')\n\t\t\t\tlocalStorage.setItem('showcontrols', 'false')\n\t\t\t\tthis.shown = false\n\t\t\t} else {\n\t\t\t\tc.removeClass('hidden')\n\t\t\t\tc.attribute('aria-hidden', 'false')\n\t\t\t\tbtn.attribute('aria-expanded', 'true')\n\t\t\t\tlocalStorage.setItem('showcontrols', 'true')\n\t\t\t\tthis.shown = true\n\t\t\t}\n\t\t})\n\n\t\treturn c\n\t}\n\n\taddPanelTabs() {\n\t\tthis.tabsContainer = createDiv().class('tabs-container').parent(this.container)\n\t}\n\n\taddPanel({ titleString, id = `controls-panel-${this.count}` }) {\n\t\tthis.count++\n\t\tif (!this.tabsContainer) {\n\t\t\tthis.addPanelTabs()\n\t\t}\n\t\tlet tabBtn = createButton(titleString).parent(this.tabsContainer).attribute('data-for', id)\n\t\tthis.tabBtns.push(tabBtn)\n\t\ttabBtn.elt.addEventListener('click', () => {\n\t\t\tthis.activatePanel(id, tabBtn)\n\t\t})\n\t\tlet panel = createDiv().addClass('panel').attribute('id', id).parent(this.container)\n\t\tthis.panels[id] = panel\n\t\tthis.panelIds.push(id)\n\t\tif (this.panelIds.length == 1) {\n\t\t\tpanel.addClass('active')\n\t\t\ttabBtn.addClass('active')\n\t\t}\n\n\t\treturn panel\n\t}\n\n\tactivatePanel(id, btn) {\n\t\tthis.tabBtns.forEach((b) => b.removeClass('active'))\n\t\tbtn.addClass('active')\n\t\tthis.panelIds.forEach((id) => this.panels[id].removeClass('active'))\n\t\tthis.panels[id].addClass('active')\n\t}\n\n\taddSection({ id = '', labelString, style }) {\n\t\tthis.count++\n\t\tid = id ?? `controls-section-${this.count}`\n\t\tlet secDiv = createDiv().parent(this.container).class('section').attribute('id', id)\n\t\tif (labelString) {\n\t\t\tlet title = createElement('h4', labelString).class('section-title').parent(secDiv)\n\t\t}\n\n\t\tif (style) {\n\t\t\tlet props = Object.keys(style)\n\t\t\tprops.forEach((p) => {\n\t\t\t\tsecDiv.style(p, style[p])\n\t\t\t})\n\t\t}\n\t\tlet d = secDiv\n\t\treturn d\n\t}\n\n\tcreateInput({ id, labelString, onChange, parent = this.container }) {\n\t\tthis.count++\n\n\t\tlet inpDiv = createDiv().parent(parent).class('input-container')\n\n\t\tlet lab = createElement('label', labelString)\n\t\t\t.style('display', 'block')\n\t\t\t.parent(inpDiv)\n\t\t\t.attribute('for', id)\n\t\tlet inp = createInput('').parent(inpDiv).attribute('id', id)\n\t\tlet errorEl = createSpan('').class('error-label').parent(inpDiv)\n\n\t\tlet inputItems = {\n\t\t\tinput: inp,\n\t\t\tcontainer: inpDiv,\n\t\t}\n\n\t\tlet timer\n\t\tinp.input((e) => {\n\t\t\tif (timer) {\n\t\t\t\tclearTimeout(timer)\n\t\t\t}\n\t\t\ttimer = setTimeout(function () {\n\t\t\t\tlet res = onChange(e)\n\t\t\t\tif (res && res.error) {\n\t\t\t\t\tconsole.log(errorEl)\n\t\t\t\t\terrorEl.html(res.error)\n\t\t\t\t} else {\n\t\t\t\t\terrorEl.html('')\n\t\t\t\t}\n\t\t\t}, 300)\n\t\t})\n\n\t\treturn inputItems\n\t}\n\n\tbtn({ onClick, labelString, parent }) {\n\t\tthis.count++\n\t\tlet btn = createButton(labelString).class('controls-btn').parent(parent)\n\t\tbtn.elt.addEventListener('click', onClick)\n\t\treturn btn\n\t}\n\n\tcreateBtn({ onClick, labelString, parent = this.container }) {\n\t\tlet d = createDiv().parent(parent).class('btn-container')\n\t\tlet btn = this.btn({ onClick, labelString, parent: d })\n\t\treturn btn\n\t}\n\n\tcreateBtnSet({ btns, parent = this.container, style = false, className = false }) {\n\t\tlet d = createDiv().parent(parent).class('btn-container')\n\t\tif (className) d.addClass(className)\n\t\tlet btnsOutput = []\n\t\tbtns.forEach((btn) => {\n\t\t\tbtn.parent = d\n\t\t\tbtnsOutput.push(this.btn(btn))\n\t\t})\n\n\t\tif (style) {\n\t\t\tlet props = Object.keys(style)\n\t\t\tprops.forEach((p) => {\n\t\t\t\td.style(p, style[p])\n\t\t\t})\n\t\t}\n\n\t\treturn btnsOutput\n\t}\n\n\tcreateText({ text, parent = this.container }) {\n\t\tlet d = createDiv(text).parent(parent).class('text')\n\t\treturn d\n\t}\n\n\tcreateSlider({\n\t\tid = `controls-${this.count}`,\n\t\tlabelString,\n\t\tonChange = undefined,\n\t\tmin,\n\t\tmax,\n\t\tstep = 1,\n\t\tval,\n\t\tparent = this.container,\n\t}) {\n\t\tthis.count++\n\t\tval = val ?? floor((max - min) / 2 + min)\n\t\tlet d = createDiv().parent(parent).class('slider-container')\n\t\tlet l = createElement('label').parent(d).attribute('for', id)\n\t\tlet sp1 = createSpan(labelString).class('label-text').parent(l)\n\t\tlet s = createSlider(min, max, val, step).parent(l).attribute('id', id)\n\t\tlet sp2 = createSpan(val).class('slider-val').parent(l)\n\n\t\ts.update = function (v) {\n\t\t\ts.value(v)\n\t\t\tsp2.html(v)\n\t\t}\n\n\t\ts.input((e) => {\n\t\t\tsp2.html(s.value())\n\t\t\tif (onChange) {\n\t\t\t\tonChange(e)\n\t\t\t}\n\t\t})\n\n\t\treturn s\n\t}\n\n\tcreatePaletteInput({ id = 'urlinput', labelString = 'custom palette: ', onPaletteUpdate }) {\n\t\tfunction urlInputHandler(e) {\n\t\t\tlet v = e.target.value\n\t\t\tif (v == '') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet regex = /coolors.co\\/(?:[a-fA-Z0-9]{6}-){1,}(?:[a-fA-Z0-9]{6})$/\n\t\t\tif (regex.test(v)) {\n\t\t\t\tlet p = paletteFromUrl(v)\n\t\t\t\treturn onPaletteUpdate(p)\n\t\t\t} else {\n\t\t\t\treturn { error: 'invalid url' }\n\t\t\t}\n\t\t}\n\n\t\tlet paletteInput = this.createInput({ id, labelString, onChange: urlInputHandler })\n\n\t\treturn paletteInput\n\t}\n\n\tcreateSelect({\n\t\tid,\n\t\tlabelString,\n\t\toptions,\n\t\tuseOptionsIndex = false,\n\t\tnamesAndVals = false,\n\t\tselected,\n\t\tonChange,\n\t\tparent = this.container,\n\t\tstyle,\n\t}) {\n\t\tthis.count++\n\t\tid = id ?? `controls-sel-${this.count}`\n\t\tlet sDiv = createDiv().parent(parent).class('select-container')\n\n\t\tif (style) {\n\t\t\tlet props = Object.keys(style)\n\t\t\tprops.forEach((p) => {\n\t\t\t\tsDiv.style(p, style[p])\n\t\t\t})\n\t\t}\n\n\t\tlet lab = createElement('label', labelString).parent(sDiv).attribute('for', id)\n\t\tlet sel = createSelect().parent(sDiv).attribute('id', id)\n\n\t\tfor (let i = 0; i < options.length; i++) {\n\t\t\tif (namesAndVals) {\n\t\t\t\tsel.option(options[i].name, options[i].val)\n\t\t\t} else {\n\t\t\t\tsel.option(useOptionsIndex ? i : options[i])\n\t\t\t}\n\t\t}\n\n\t\tif (selected) sel.selected(selected)\n\t\tsel.changed(onChange)\n\n\t\treturn { el: sel, container: sDiv, label: lab }\n\t}\n\n\tcreateRadio({ id, labelString, options, selected, onChange, parent = this.container }) {\n\t\tthis.count++\n\t\tid = id ?? `controls-radio-${this.count}`\n\n\t\tlet rDiv = createDiv().style('display', 'flex').parent(parent).class('radio-container')\n\t\tlet radio = createRadio().attribute('id', id).attribute('class', 'radio-opts').parent(rDiv)\n\t\toptions.forEach((opt, i) => {\n\t\t\tradio.option(opt)\n\t\t})\n\t\tif (selected) {\n\t\t\tradio.selected(selected)\n\t\t}\n\n\t\tradio.changed(onChange)\n\t\treturn radio\n\t}\n}\n","module.exports = \"270c2fea9726e43e\";","function easeOutCubic(x) {\n\treturn 1 - Math.pow(1 - x, 3)\n}\n\nexport class AllTheCircles {\n\tconstructor({\n\t\tsize,\n\t\tmultMin = 0.1,\n\t\tmultMax = 0.3,\n\t\twidth,\n\t\theight,\n\t\tspace,\n\t\toverlapEdges = false,\n\t\tspaceFromEdge = 20,\n\t\tbuild = true,\n\t\tattemptsEachStep = 1000,\n\t\tsteps = 10,\n\t}) {\n\t\tthis.circles = []\n\t\tthis.size = size\n\t\tthis.multMin = multMin\n\t\tthis.multMax = multMax\n\t\tthis.diff = multMax - multMin\n\t\tthis.width = width\n\t\tthis.height = height\n\t\tthis.space = space ?? this.width * 0.01\n\t\tthis.overlapEdges = overlapEdges\n\t\tthis.attemptsEachStep = attemptsEachStep\n\t\tthis.steps = steps\n\t\tthis.spaceFromEdge = spaceFromEdge\n\n\t\tif (build) {\n\t\t\tthis.circleTime()\n\t\t}\n\t}\n\n\tcircleTime() {\n\t\tlet timesTried = 0\n\t\tlet step = 0\n\n\t\twhile (step < this.steps) {\n\t\t\tlet i = 0\n\t\t\t// ease out to subtract larger amounts first, then less as we get closer to the min\n\t\t\tlet multiplier = this.multMax - this.diff * easeOutCubic(step / this.steps)\n\t\t\tlet currentSize = floor(this.size * multiplier)\n\n\t\t\tlet timesThisStep = 0\n\t\t\tlet addedThisStep = 0\n\t\t\twhile (i < this.attemptsEachStep) {\n\t\t\t\ttimesTried++\n\t\t\t\ttimesThisStep++\n\t\t\t\tlet c = new Circle(\n\t\t\t\t\tMath.floor(random(this.width)),\n\t\t\t\t\tMath.floor(random(this.height)),\n\t\t\t\t\tcurrentSize,\n\t\t\t\t\tthis.circles.length\n\t\t\t\t)\n\t\t\t\tif (this.checkOverlap(c)) {\n\t\t\t\t\ti++\n\t\t\t\t} else {\n\t\t\t\t\taddedThisStep++\n\t\t\t\t\tthis.circles.push(c)\n\t\t\t\t\ti = 0\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstep += 1\n\t\t\tconsole.log({ step, timesThisStep, addedThisStep })\n\t\t}\n\t\tconsole.log({ timesTried, length: this.circles.length })\n\t}\n\n\tcircleTimeOne(index) {\n\t\tlet timesTried = 0\n\t\tlet sub = 0\n\t\twhile (sub < 1) {\n\t\t\tlet i = 0\n\t\t\tlet multiplier = this.multMax - this.diff * easeOutCubic(sub)\n\t\t\tlet currentSize = floor(this.size * multiplier)\n\n\t\t\twhile (i < this.attemptsEachStep) {\n\t\t\t\ttimesTried++\n\t\t\t\tlet c = new Circle(\n\t\t\t\t\tMath.floor(random(this.width)),\n\t\t\t\t\tMath.floor(random(this.height)),\n\t\t\t\t\tcurrentSize,\n\t\t\t\t\tindex ? index : this.circles.length\n\t\t\t\t)\n\n\t\t\t\tif (this.checkOverlap(c)) {\n\t\t\t\t\ti++\n\t\t\t\t} else {\n\t\t\t\t\tthis.circles.push(c)\n\t\t\t\t\treturn c\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tsub += this.stepSize\n\t\t}\n\t}\n\n\tremove(circleToRemove) {\n\t\tlet index = circleToRemove.index\n\t\tthis.circles.splice(index, 1)\n\t\tthis.updateIndex()\n\t}\n\n\tupdateIndex() {\n\t\tfor (let i = 0; i < this.circles.length; i++) {\n\t\t\tthis.circles[i].index = i\n\t\t}\n\t}\n\n\tnewCircle(size, maxAttempts = 10, log = true, attempts = 0, index) {\n\t\tif (attempts > maxAttempts) {\n\t\t\tif (log) {\n\t\t\t\tconsole.log('size: ' + size + ' give up')\n\t\t\t}\n\t\t\treturn\n\t\t}\n\t\tlet c = new Circle(\n\t\t\tMath.floor(random(this.width)),\n\t\t\tMath.floor(random(this.height)),\n\t\t\tsize,\n\t\t\tindex ? index : this.circles.length\n\t\t)\n\t\tif (this.checkOverlap(c)) {\n\t\t\tattempts++\n\t\t\tthis.newCircle(size, maxAttempts, log, attempts)\n\t\t} else {\n\t\t\tthis.circles.push(c)\n\t\t\tif (log) {\n\t\t\t\tconsole.log({ size, attempts })\n\t\t\t}\n\t\t}\n\t}\n\n\tcheckOverlap(newCircle) {\n\t\tif (\n\t\t\t!this.overlapEdges &&\n\t\t\t(newCircle.x - newCircle.d / 2 < this.space ||\n\t\t\t\tnewCircle.x + newCircle.d / 2 > this.width - this.space ||\n\t\t\t\tnewCircle.y - newCircle.d / 2 < this.space ||\n\t\t\t\tnewCircle.y + newCircle.d / 2 > this.height - this.space)\n\t\t) {\n\t\t\treturn true\n\t\t}\n\n\t\tif (\n\t\t\tthis.overlapEdges &&\n\t\t\t(newCircle.x < this.spaceFromEdge ||\n\t\t\t\tnewCircle.x > this.width - this.spaceFromEdge ||\n\t\t\t\tnewCircle.y < this.spaceFromEdge ||\n\t\t\t\tnewCircle.y > this.height - this.spaceFromEdge)\n\t\t) {\n\t\t\treturn true\n\t\t}\n\n\t\tfor (let i = 0; i < this.circles.length; i++) {\n\t\t\tlet c = this.circles[i]\n\t\t\tlet d = dist(newCircle.x, newCircle.y, c.x, c.y)\n\t\t\tif (d - this.space < newCircle.d / 2 + c.d / 2) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t}\n\t\treturn false\n\t}\n}\n\nclass Circle {\n\tconstructor(x, y, d, index) {\n\t\tthis.x = x\n\t\tthis.y = y\n\t\tthis.d = d\n\t\tthis.index = index\n\t}\n}\n","export default class Spiral {\n\tconstructor({\n\t\tr,\n\t\tctr,\n\t\tcol,\n\t\tweight = 5,\n\t\trInc = 0.3,\n\t\tthetaInc = 0.25,\n\t\tstartAt = 0,\n\t\tscaling = false,\n\t\tmaxScale = 2,\n\t\ttheta = 0,\n\t\tcrcl,\n\t\tdoFade = true,\n\t} = {}) {\n\t\tthis.theta = theta\n\t\tthis.rMax = r ?? min(width, height)\n\t\tthis.vertices = []\n\t\tthis.ctr = ctr ?? createVector(width / 2, height / 2)\n\t\tthis.r = 0\n\t\tthis.done = false\n\t\tthis.col = col ? color(col) : color(20, 20, 20)\n\t\tthis.weight = weight\n\t\tthis.rInc = rInc\n\t\tthis.thetaInc = thetaInc\n\t\tthis.startAt = startAt\n\t\tthis.scaling = scaling\n\t\tthis.scale = 1\n\t\tthis.maxScale = maxScale\n\t\tthis.currentFade = 255\n\t\tthis.faded = false\n\t\tthis.crcl = crcl ?? null\n\t\tthis.doFade = doFade\n\t}\n\n\tupdateShape() {\n\t\tlet x = this.r * cos(this.theta)\n\t\tlet y = this.r * sin(this.theta)\n\n\t\tthis.vertices.push([x, y])\n\n\t\tthis.r += this.rInc\n\t\tthis.theta += this.thetaInc\n\n\t\tif (this.r >= this.rMax) {\n\t\t\tthis.done = true\n\t\t}\n\t}\n\n\treset() {\n\t\tthis.currentFade = 255\n\t\tthis.faded = false\n\t\tthis.col.setAlpha(this.currentFade)\n\n\t\tthis.vertices = []\n\t\tthis.r = 0\n\t\tthis.done = false\n\t}\n\n\tupdate() {\n\t\tif (!this.done) {\n\t\t\tthis.updateShape()\n\t\t}\n\n\t\tif (this.done && this.doFade && !this.faded) {\n\t\t\tthis.fade()\n\t\t}\n\n\t\tif (this.scaling) {\n\t\t\tthis.scale += this.scale < this.maxScale ? 0.001 : 0\n\t\t}\n\t}\n\n\tfade() {\n\t\tthis.currentFade -= 2\n\t\tthis.col.setAlpha(this.currentFade)\n\t\tif (this.currentFade < 0) {\n\t\t\tthis.faded = true\n\t\t}\n\t}\n\n\tshow() {\n\t\tpush()\n\t\tnoFill()\n\n\t\tstroke(this.col)\n\t\tstrokeWeight(this.weight)\n\n\t\ttranslate(this.ctr.x, this.ctr.y)\n\t\tscale(this.scale)\n\n\t\tbeginShape()\n\t\tthis.vertices.forEach((v) => {\n\t\t\tcurveVertex(v[0], v[1])\n\t\t})\n\n\t\tendShape()\n\n\t\tpop()\n\t}\n}\n","import { AllTheCircles } from '../../../utils/Circles.js'\nimport { paletteFromUrl } from '../../../utils/utils.js'\nimport Spiral from './spiralclass.js'\n\nlet palette = paletteFromUrl('https://coolors.co/52ffee-0c7489-271f30-4fb477-345511')\n\nfunction sprlSettings(crcl) {\n\t// let rInc = random(0.3, 0.5)\n\t// let thetaInc = random(0.1, rInc - 0.05)\n\n\tlet rInc = 0.6\n\tlet thetaInc = 0.55\n\tlet weight = 2\n\n\treturn {\n\t\tr: crcl.d / 2,\n\t\tctr: createVector(crcl.x, crcl.y),\n\t\tstartAt: frameCount == 0 ? floor(random(500)) : frameCount + floor(random(500)),\n\t\trInc,\n\t\tthetaInc,\n\t\tweight,\n\t\tscaling: true,\n\t\tmaxScale: 1.5,\n\t\tcrcl,\n\t\tcol: random(palette),\n\t}\n}\n\nexport function manySpiralsSetup() {\n\tlet crcls = new AllTheCircles({\n\t\tsize: 400,\n\t\tstepSize: 5,\n\t\tattemptsEachStep: 200,\n\t\twidth,\n\t\theight,\n\t\tmultMax: 1,\n\t\tmultMin: 0.7,\n\t\toverlapEdges: true,\n\t\tspaceFromEdge: 50,\n\t\tspace: -100,\n\t})\n\n\tlet spirals = []\n\tcrcls.circles.forEach((c) => {\n\t\tspirals.push(new Spiral(sprlSettings(c)))\n\t})\n\n\treturn { crcls, spirals }\n}\n\nexport function manySpiralsDraw(spirals, crcls) {\n\tfor (let i = 0; i < spirals.length; i++) {\n\t\tif (!spirals[i]) continue\n\n\t\tif (frameCount > spirals[i].startAt) {\n\t\t\tif (spirals[i].faded) {\n\t\t\t\tlet crcl = spirals[i].crcl\n\t\t\t\tcrcls.remove(crcl)\n\t\t\t\tlet newCircle = crcls.circleTimeOne()\n\n\t\t\t\tspirals[i] = null\n\t\t\t\tif (newCircle) {\n\t\t\t\t\tspirals[i] = new Spiral(sprlSettings(newCircle))\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tspirals[i].update()\n\t\t\t\tspirals[i].show()\n\t\t\t}\n\t\t}\n\t}\n\n\tif (frameCount % 200 == 0) {\n\t\tlet newCircle = crcls.circleTimeOne()\n\t\tconsole.log(newCircle)\n\t\tif (newCircle) {\n\t\t\tspirals.push(newCircle)\n\t\t}\n\t}\n}\n","import Spiral from './spiralclass.js'\n\nexport function oneSpiralSetup() {\n\tlet m = min(width, height)\n\tlet spiral = new Spiral({\n\t\tr: m * 0.4,\n\t})\n\treturn spiral\n}\n\nexport function oneSpiralDraw(spiral) {\n\tbackground(50)\n\n\tif (spiral.faded) {\n\t\tspiral.reset()\n\t}\n\tspiral.update()\n\tspiral.show()\n}\n","import { Controls } from '../../utils/Controls.js'\nimport { manySpiralsSetup, manySpiralsDraw } from './helpers/manySpiralsFunctions.js'\nimport { oneSpiralSetup, oneSpiralDraw } from './helpers/oneSpiralFunctions.js'\nimport Spiral from './helpers/spiralclass.js'\n\nlet stuff = {\n\toptions: ['many scaling spirals', 'one spiral', 'swoosh'],\n}\nwindow.stuff = stuff\nlet MODE = stuff.options[2]\n\nfunction setupExperiment() {\n\tlet m = min(width, height) * 0.45\n\tlet arms = 10\n\tlet spirals = []\n\tlet j = 0\n\tlet repeats = floor(random(3, 8))\n\n\tlet palette = ['#307351', '#70163c', '#e5d352', '#2e0f15', '#d9e76c']\n\tlet step = TWO_PI / arms\n\tlet innerStep = step / repeats\n\n\twhile (j < repeats) {\n\t\tlet i = 0\n\t\twhile (i < arms) {\n\t\t\tspirals.push(\n\t\t\t\tnew Spiral({\n\t\t\t\t\tr: m,\n\t\t\t\t\trInc: 1,\n\t\t\t\t\tthetaInc: 0.01,\n\t\t\t\t\ttheta: i * step + innerStep * j,\n\t\t\t\t\tcol: palette[j % (palette.length - 1)],\n\t\t\t\t\tdoFade: false,\n\t\t\t\t})\n\t\t\t)\n\t\t\ti++\n\t\t}\n\n\t\tj++\n\t}\n\n\treturn spirals\n}\n\nfunction drawExperiment(spirals) {\n\tbackground('#95B2B8')\n\n\tfor (let i = 0; i < spirals.length; i++) {\n\t\tspirals[i].update()\n\t\tspirals[i].show()\n\t}\n}\n\nfunction setupByMode() {\n\tif (MODE == 'many scaling spirals') {\n\t\tlet s = manySpiralsSetup()\n\t\tstuff.crcls = s.crcls\n\t\tstuff.spirals = s.spirals\n\n\t\tlet s2 = manySpiralsSetup()\n\t\tstuff.crcls2 = s2.crcls\n\t\tstuff.spirals2 = s2.spirals\n\t} else if (MODE == 'one spiral') {\n\t\tstuff.spiral = oneSpiralSetup()\n\t} else if (MODE == stuff.options[2]) {\n\t\tstuff.spirals = setupExperiment()\n\t}\n}\n\nfunction setup() {\n\tcreateCanvas(window.innerWidth, window.innerHeight)\n\tmakeControls()\n\tsetupByMode()\n}\n\nfunction draw() {\n\tif (MODE == 'many scaling spirals') {\n\t\tbackground('#DCFFFD')\n\t\tmanySpiralsDraw(stuff.spirals, stuff.crcls)\n\t\tmanySpiralsDraw(stuff.spirals2, stuff.crcls2)\n\t} else if (MODE == 'one spiral') {\n\t\toneSpiralDraw(stuff.spiral)\n\t} else if (MODE == stuff.options[2]) {\n\t\tdrawExperiment(stuff.spirals)\n\t}\n}\n\nfunction makeControls() {\n\tlet controls = new Controls()\n\n\tlet optionSel = controls.createSelect({\n\t\tid: 'options-sel',\n\t\tlabelString: 'mode',\n\t\toptions: stuff.options,\n\t\tselected: stuff.options[2],\n\t\tonChange: (e) => {\n\t\t\tMODE = optionSel.el.value()\n\t\t\tsetupByMode()\n\t\t},\n\t})\n\n\tstuff.controls = controls\n}\n\nwindow.setup = setup\nwindow.draw = draw\n"],"names":["$4f31c5d55b61de56$export$e2d8f6e466ff8861","url","split","slice","map","c","$8e2a3ad07a7bf6cf$var$style","document","createElement","textContent","$parcel$interopDefault","body","appendChild","$8e2a3ad07a7bf6cf$export$c7c44baae9d9f25f","constructor","rightSide","this","shown","shownFromStorage","container","buildContainer","count","activePanel","panels","panelIds","tabBtns","show","localStorage","getItem","boolean","outer","createDiv","class","style","btn","createButton","parent","attribute","addClass","elt","addEventListener","setItem","removeClass","addPanelTabs","tabsContainer","addPanel","titleString","id","tabBtn","push","activatePanel","panel","length","forEach","b","addSection","labelString","secDiv","Object","keys","p","createInput","onChange","timer","inpDiv","inp","errorEl","createSpan","inputItems","input","e","clearTimeout","setTimeout","res","error","console","log","html","onClick","createBtn","d","createBtnSet","btns","className","btnsOutput","createText","text","createSlider","min","max","step","val","floor","l","s","sp2","update","v","value","createPaletteInput","onPaletteUpdate","target","test","createSelect","options","useOptionsIndex","namesAndVals","selected","sDiv","lab","sel","i","option","name","changed","el","label","createRadio","rDiv","radio","opt","$6b7bd4219bc54b0f$var$easeOutCubic","x","Math","pow","$6b7bd4219bc54b0f$export$3b73020f1cf4903c","size","multMin","multMax","width","height","space","overlapEdges","spaceFromEdge","build","attemptsEachStep","steps","circles","diff","circleTime","timesTried","multiplier","currentSize","timesThisStep","addedThisStep","$6b7bd4219bc54b0f$var$Circle","random","checkOverlap","circleTimeOne","index","sub","stepSize","remove","circleToRemove","splice","updateIndex","newCircle","maxAttempts","attempts","y","dist","$1297b3281c8e452a$export$2e2bcd8739ae039","r","ctr","col","weight","rInc","thetaInc","startAt","scaling","maxScale","theta","crcl","doFade","rMax","vertices","createVector","done","color","scale","currentFade","faded","updateShape","cos","sin","reset","setAlpha","fade","noFill","stroke","strokeWeight","translate","beginShape","curveVertex","endShape","pop","$18ed04e3cbf5edd6$var$palette","$18ed04e3cbf5edd6$var$sprlSettings","frameCount","$18ed04e3cbf5edd6$export$a2e3671ecb8c8854","crcls","spirals","$18ed04e3cbf5edd6$export$c165995bddf4f014","$33ed23843905f4f0$export$9a3632e2755cb088","m","$e870d4a249811a90$var$stuff","window","stuff","$e870d4a249811a90$var$MODE","$e870d4a249811a90$var$setupByMode","s2","crcls2","spirals2","spiral","j","repeats","palette","TWO_PI","innerStep","$e870d4a249811a90$var$setupExperiment","setup","createCanvas","innerWidth","innerHeight","controls","optionSel","$e870d4a249811a90$var$makeControls","draw","background","$e870d4a249811a90$var$drawExperiment"],"version":3,"file":"07-spirals.js.map"}