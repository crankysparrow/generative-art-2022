(()=>{let t,e,o,i,n=["#0d5c63","#fc60a8","#ff8c42","#93032e","#4CB5AE"],r=0,h=[],s=200,l=700,d=3,a=50,c=20,f=10,g=0,u=230;function m(){g++,noFill(),strokeCap(SQUARE),strokeWeight(f),stroke(100,10,250);let t=h.length;(function(t,e=100){console.log("starting circle pack function");let o=[],i=!0,n=0,r=0;for(;i;){r++;let h=createVector(random(t/2,width-t/2),random(t/2,height-t/2)),s=!0;for(let e=0;e<o.length;e++)if(h.dist(o[e])<t){s=!1;break}s?(o.push(h),n=0):n++,n>e&&(i=!1)}return console.log(`took ${r} attempts to make ${o.length} points`),o})(a,c*g).forEach((t=>{h.push(new w(t.x,t.y))})),function(t=0){console.log("starting make curves function");let e=0,o=l+1;for(let e=t;e<h.length;e++){let t=0;for(;t<l&&!h[e].done;){let o=h[e].addPoint(),i=!1;for(let t=0;t<h.length;t++)if(e!=t)for(let e=0;e<h[t].points.length;e++)if(abs(floor(o.x)-floor(h[t].points[e].x))<d&&abs(floor(o.y)-floor(h[t].points[e].y))<d||o.x>width-f/2||o.x<0||o.y>height-f/2||o.y<0){i=!0;break}i?h[e].done=!0:h[e].points.push(o),t++}}h=h.filter(((i,n)=>{if(n<t)return!0;{let t=i.points.length;if(t<s)return!1;t>e?e=t:t<o&&(o=t)}return!0})),console.log(h),console.log(`started at ${t}, finished with ${h.length} curvy particles.\n\t\tThe longest is ${e}. The shortest is ${o}`)}(t);for(let e=t;e<h.length;e++){let t=h[e].points.length;beginShape();let o=color(n[h[e].col]);o.setAlpha(u),stroke(o),curveVertex(h[e].points[0].x,h[e].points[0].y),h[e].points.forEach((t=>{curveVertex(t.x,t.y)})),curveVertex(h[e].points[t-1].x,h[e].points[t-1].y),endShape()}}class w{constructor(t,e){this.x=t,this.y=e,this.done=!1,this.nPoints=0,this.points=[createVector(this.x,this.y)],this.col=!1}addPoint(){let n=this.points[this.points.length-1],h=(s=n.x,l=n.y,sin(s*(1/(width*t)))+cos(l*e));var s,l;let d=function(t,e){return cos(e*(1/(height*i)))+sin(t*o)}(n.x,n.y);return this.col||(this.col=function(t,e){if(1==r)return t<0&&e>0?1:t>0&&e>0?2:3;if(2==r)return t<0&&e<0?1:t>0&&e<0?2:3;if(3==r)return t<0&&e>0?1:t>0&&e<0?2:3;if(4==r)return t>0&&e>0?1:t<0&&e<0?2:3;if(5==r)return t<0&&e>0?1:t<0&&e<0?2:3;if(6==r)return t>0&&e>0?1:t>0&&e<0?2:3;if(t>0&&e>0)return 1;if(t>0&&e<0)return 2;if(t<0&&e>0)return 3;if(t<0&&e>0)return 4}(h,d)),h<1&&d<1?createVector(n.x+2*h,n.y+2*d):h<.8&&d<.8?createVector(n.x+1.2*h,n.y+1.2*d):createVector(n.x+h,n.y+d)}update(){if(this.done)return;let t=this.x,e=this.y,o=this.x,i=this.y,n=-3*(sin(.04*o)+sin(.03*i)),r=-3*sin(.02*(o+i));this.x+=n,this.y+=r,this.checkPixels(t,e)}checkPixels(t,e){if(stroke(0,100,150),strokeWeight(5),floor(this.x)==floor(t)||floor(this.y)==floor.prevY)this.nPoints++,line(t,e,this.x,this.y);else{get(floor(this.x),floor(this.y))[3]>100?(this.findNewPos(),this.nPoints=0):(this.nPoints++,line(t,e,this.x,this.y))}}findNewPos(){let t=!1,e=0,o=random(width),i=random(height);for(;!t&&e<100;){get(o,i)[3]<100?t=!0:(e++,o=random(width),i=random(height))}t?(this.x=o,this.y=i):this.done=!0}}window.setup=function(){createCanvas(window.innerWidth,window.innerHeight);let h=[color(255,255,250,150),color(236,222,212,150),color(252,244,237,150)];strokeWeight(200);for(let t=0;t<5;t++)stroke(random(h)),line(0-random(width),0-random(height),width+random(width),height+random(height)),line(width+random(width),height+random(height),0-random(width),0-random(height)),line(0-random(width),height+random(height),width+random(width),0-random(height)),line(width+random(width),0-random(height),0-random(width),height+random(height));n=shuffle(n),r=random([1,2,3,4,5,6,7]),t=random(.1,1.2),e=random(.01,.08),o=random(.01,.08),i=random(.5,1.5),console.log({vx1:t,vx2:e,vy1:o,vy2:i}),createButton("add curves").mousePressed(m),noLoop()},window.draw=function(){m()}})();
//# sourceMappingURL=11.js.map
