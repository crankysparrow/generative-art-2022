{"mappings":"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","sources":["src/scripts/utils/utils.js","src/scripts/utils/Controls.js","src/scripts/projects/03-radialshapes.js","node_modules/@parcel/runtime-js/lib/bundles/runtime-4d17470ce3b9f544.js","src/scripts/projects/03-layers.ts"],"sourcesContent":["export const paletteFromUrl = (url) =>\n\turl\n\t\t.split('coolors.co/')\n\t\t.slice(1)[0]\n\t\t.split('-')\n\t\t.map((c) => '#' + c)\n\nexport const addScript = (src) => {\n\tlet s = document.createElement('script')\n\ts.setAttribute('src', src)\n\tdocument.body.appendChild(s)\n}\n","import { paletteFromUrl } from './utils.js'\n// import * as classes from '../../styles/components/controls.module.scss'\nimport cssText from 'bundle-text:../../styles/components/controls.scss'\nlet style = document.createElement('style')\nstyle.textContent = cssText\ndocument.body.appendChild(style)\n\nexport class Controls {\n\tconstructor(rightSide) {\n\t\tthis.shown = this.shownFromStorage() ?? true\n\t\tthis.rightSide = rightSide\n\t\tthis.container = this.buildContainer()\n\t\tthis.count = 0\n\t\tthis.activePanel = false\n\t\tthis.panels = {}\n\t\tthis.panelIds = []\n\t\tthis.tabBtns = []\n\t}\n\n\tshownFromStorage() {\n\t\tlet show = localStorage.getItem('showcontrols')\n\n\t\tif (show) {\n\t\t\treturn boolean(show)\n\t\t}\n\t}\n\n\tbuildContainer() {\n\t\tlet outer = createDiv().class('custom-controls')\n\t\t// .style(this.rightSide ? window.innerWidth - 270 : 0, 0)\n\t\touter.style(this.rightSide ? 'right' : 'left', 0)\n\t\touter.style('top', 0)\n\t\tlet btn = createButton('toggle controls')\n\t\t\t.class('toggle-btn')\n\t\t\t.parent(outer)\n\t\t\t.attribute('aria-expanded', this.shown ? 'true' : 'false')\n\t\tlet c = createDiv()\n\t\t\t.class('controls-inner')\n\t\t\t.parent(outer)\n\t\t\t.attribute('aria-hidden', this.shown ? 'false' : 'true')\n\t\tif (!this.shown) c.addClass('hidden')\n\n\t\tbtn.elt.addEventListener('click', () => {\n\t\t\tif (this.shown) {\n\t\t\t\tc.addClass('hidden')\n\t\t\t\tc.attribute('aria-hidden', 'true')\n\t\t\t\tbtn.attribute('aria-expanded', 'false')\n\t\t\t\tlocalStorage.setItem('showcontrols', 'false')\n\t\t\t\tthis.shown = false\n\t\t\t} else {\n\t\t\t\tc.removeClass('hidden')\n\t\t\t\tc.attribute('aria-hidden', 'false')\n\t\t\t\tbtn.attribute('aria-expanded', 'true')\n\t\t\t\tlocalStorage.setItem('showcontrols', 'true')\n\t\t\t\tthis.shown = true\n\t\t\t}\n\t\t})\n\n\t\treturn c\n\t}\n\n\taddPanelTabs() {\n\t\tthis.tabsContainer = createDiv().class('tabs-container').parent(this.container)\n\t}\n\n\taddPanel({ titleString, id = `controls-panel-${this.count}` }) {\n\t\tthis.count++\n\t\tif (!this.tabsContainer) {\n\t\t\tthis.addPanelTabs()\n\t\t}\n\t\tlet tabBtn = createButton(titleString).parent(this.tabsContainer).attribute('data-for', id)\n\t\tthis.tabBtns.push(tabBtn)\n\t\ttabBtn.elt.addEventListener('click', () => {\n\t\t\tthis.activatePanel(id, tabBtn)\n\t\t})\n\t\tlet panel = createDiv().addClass('panel').attribute('id', id).parent(this.container)\n\t\tthis.panels[id] = panel\n\t\tthis.panelIds.push(id)\n\t\tif (this.panelIds.length == 1) {\n\t\t\tpanel.addClass('active')\n\t\t\ttabBtn.addClass('active')\n\t\t}\n\n\t\treturn panel\n\t}\n\n\tactivatePanel(id, btn) {\n\t\tthis.tabBtns.forEach((b) => b.removeClass('active'))\n\t\tbtn.addClass('active')\n\t\tthis.panelIds.forEach((id) => this.panels[id].removeClass('active'))\n\t\tthis.panels[id].addClass('active')\n\t}\n\n\taddSection({ id = '', labelString, style }) {\n\t\tthis.count++\n\t\tid = id ?? `controls-section-${this.count}`\n\t\tlet secDiv = createDiv().parent(this.container).class('section').attribute('id', id)\n\t\tif (labelString) {\n\t\t\tlet title = createElement('h4', labelString).class('section-title').parent(secDiv)\n\t\t}\n\n\t\tif (style) {\n\t\t\tlet props = Object.keys(style)\n\t\t\tprops.forEach((p) => {\n\t\t\t\tsecDiv.style(p, style[p])\n\t\t\t})\n\t\t}\n\t\tlet d = secDiv\n\t\treturn d\n\t}\n\n\tcreateInput({ id, labelString, onChange, parent = this.container }) {\n\t\tthis.count++\n\n\t\tlet inpDiv = createDiv().parent(parent).class('input-container')\n\n\t\tlet lab = createElement('label', labelString)\n\t\t\t.style('display', 'block')\n\t\t\t.parent(inpDiv)\n\t\t\t.attribute('for', id)\n\t\tlet inp = createInput('').parent(inpDiv).attribute('id', id)\n\t\tlet errorEl = createSpan('').class('error-label').parent(inpDiv)\n\n\t\tlet inputItems = {\n\t\t\tinput: inp,\n\t\t\tcontainer: inpDiv,\n\t\t}\n\n\t\tlet timer\n\t\tinp.input((e) => {\n\t\t\tif (timer) {\n\t\t\t\tclearTimeout(timer)\n\t\t\t}\n\t\t\ttimer = setTimeout(function () {\n\t\t\t\tlet res = onChange(e)\n\t\t\t\tif (res && res.error) {\n\t\t\t\t\tconsole.log(errorEl)\n\t\t\t\t\terrorEl.html(res.error)\n\t\t\t\t} else {\n\t\t\t\t\terrorEl.html('')\n\t\t\t\t}\n\t\t\t}, 300)\n\t\t})\n\n\t\treturn inputItems\n\t}\n\n\tbtn({ onClick, labelString, parent }) {\n\t\tthis.count++\n\t\tlet btn = createButton(labelString).class('controls-btn').parent(parent)\n\t\tbtn.elt.addEventListener('click', onClick)\n\t\treturn btn\n\t}\n\n\tcreateBtn({ onClick, labelString, parent = this.container }) {\n\t\tlet d = createDiv().parent(parent).class('btn-container')\n\t\tlet btn = this.btn({ onClick, labelString, parent: d })\n\t\treturn btn\n\t}\n\n\tcreateBtnSet({ btns, parent = this.container, style = false, className = false }) {\n\t\tlet d = createDiv().parent(parent).class('btn-container')\n\t\tif (className) d.addClass(className)\n\t\tlet btnsOutput = []\n\t\tbtns.forEach((btn) => {\n\t\t\tbtn.parent = d\n\t\t\tbtnsOutput.push(this.btn(btn))\n\t\t})\n\n\t\tif (style) {\n\t\t\tlet props = Object.keys(style)\n\t\t\tprops.forEach((p) => {\n\t\t\t\td.style(p, style[p])\n\t\t\t})\n\t\t}\n\n\t\treturn btnsOutput\n\t}\n\n\tcreateText({ text, parent = this.container }) {\n\t\tlet d = createDiv(text).parent(parent).class('text')\n\t\treturn d\n\t}\n\n\tcreateSlider({\n\t\tid = `controls-${this.count}`,\n\t\tlabelString,\n\t\tonChange = undefined,\n\t\tmin,\n\t\tmax,\n\t\tstep = 1,\n\t\tval,\n\t\tparent = this.container,\n\t}) {\n\t\tthis.count++\n\t\tval = val ?? floor((max - min) / 2 + min)\n\t\tlet d = createDiv().parent(parent).class('slider-container')\n\t\tlet l = createElement('label').parent(d).attribute('for', id)\n\t\tlet sp1 = createSpan(labelString).class('label-text').parent(l)\n\t\tlet s = createSlider(min, max, val, step).parent(l).attribute('id', id)\n\t\tlet sp2 = createSpan(val).class('slider-val').parent(l)\n\n\t\ts.update = function (v) {\n\t\t\ts.value(v)\n\t\t\tsp2.html(v)\n\t\t}\n\n\t\ts.input((e) => {\n\t\t\tsp2.html(s.value())\n\t\t\tif (onChange) {\n\t\t\t\tonChange(e)\n\t\t\t}\n\t\t})\n\n\t\treturn s\n\t}\n\n\tcreatePaletteInput({ id = 'urlinput', labelString = 'custom palette: ', onPaletteUpdate }) {\n\t\tfunction urlInputHandler(e) {\n\t\t\tlet v = e.target.value\n\t\t\tif (v == '') {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tlet regex = /coolors.co\\/(?:[a-fA-Z0-9]{6}-){1,}(?:[a-fA-Z0-9]{6})$/\n\t\t\tif (regex.test(v)) {\n\t\t\t\tlet p = paletteFromUrl(v)\n\t\t\t\treturn onPaletteUpdate(p)\n\t\t\t} else {\n\t\t\t\treturn { error: 'invalid url' }\n\t\t\t}\n\t\t}\n\n\t\tlet paletteInput = this.createInput({ id, labelString, onChange: urlInputHandler })\n\n\t\treturn paletteInput\n\t}\n\n\tcreateSelect({\n\t\tid,\n\t\tlabelString,\n\t\toptions,\n\t\tuseOptionsIndex = false,\n\t\tnamesAndVals = false,\n\t\tselected,\n\t\tonChange,\n\t\tparent = this.container,\n\t\tstyle,\n\t}) {\n\t\tthis.count++\n\t\tid = id ?? `controls-sel-${this.count}`\n\t\tlet sDiv = createDiv().parent(parent).class('select-container')\n\n\t\tif (style) {\n\t\t\tlet props = Object.keys(style)\n\t\t\tprops.forEach((p) => {\n\t\t\t\tsDiv.style(p, style[p])\n\t\t\t})\n\t\t}\n\n\t\tlet lab = createElement('label', labelString).parent(sDiv).attribute('for', id)\n\t\tlet sel = createSelect().parent(sDiv).attribute('id', id)\n\n\t\tfor (let i = 0; i < options.length; i++) {\n\t\t\tif (namesAndVals) {\n\t\t\t\tsel.option(options[i].name, options[i].val)\n\t\t\t} else {\n\t\t\t\tsel.option(useOptionsIndex ? i : options[i])\n\t\t\t}\n\t\t}\n\n\t\tif (selected) sel.selected(selected)\n\t\tsel.changed(onChange)\n\n\t\treturn { el: sel, container: sDiv, label: lab }\n\t}\n\n\tcreateRadio({ id, labelString, options, selected, onChange, parent = this.container }) {\n\t\tthis.count++\n\t\tid = id ?? `controls-radio-${this.count}`\n\n\t\tlet rDiv = createDiv().style('display', 'flex').parent(parent).class('radio-container')\n\t\tlet radio = createRadio().attribute('id', id).attribute('class', 'radio-opts').parent(rDiv)\n\t\toptions.forEach((opt, i) => {\n\t\t\tradio.option(opt)\n\t\t})\n\t\tif (selected) {\n\t\t\tradio.selected(selected)\n\t\t}\n\n\t\tradio.changed(onChange)\n\t\treturn radio\n\t}\n}\n","import { paletteFromUrl } from '../utils/utils.js'\nimport { Controls } from '../utils/Controls.js'\nimport { ShapesLayer, generateShapes } from './03-layers.ts'\n\nlet palette, controls, paletteSelect\nlet layers = []\n\nlet urls = [\n\t'https://coolors.co/d9f0ff-a3d5ff-83c9f4-6f73d2-7681b3',\n\t'https://coolors.co/1a535c-4ecdc4-f7fff7-fbb5b1-ff6b6b',\n\t'https://coolors.co/4059ad-6b9ac4-97d8c4-eff2f1-f4b942',\n\t'https://coolors.co/f9c80e-2b50aa-ff9fe5-43bccd-ff858d',\n]\n\nfunction setup() {\n\tcreateCanvas(window.innerWidth, window.innerHeight)\n\tshuffle(urls)\n\tpalette = paletteFromUrl(urls[0]).map((c) => color(c))\n\tlayers = generateShapes(palette)\n\tmakeControls()\n\tnoLoop()\n}\n\nfunction draw() {\n\tnoFill()\n\tstrokeWeight(0.5)\n\tbackground(20)\n\ttranslate(width / 2, height / 2)\n\tlayers.forEach((layer) => layer.draw())\n}\n\nfunction setLayerColors(doRedraw = true) {\n\tlayers.forEach((layer) => (layer.color = random(palette)))\n\tif (doRedraw) redraw()\n}\n\nfunction reset(setPalette = true, setLayers = true, paletteIndex = false) {\n\tif (setPalette) {\n\t\tpaletteIndex = paletteIndex ? paletteIndex : floor(random(urls.length))\n\t\tpalette = paletteFromUrl(urls[paletteIndex]).map((c) => color(c))\n\t\tpaletteSelect.el.selected(paletteIndex)\n\t}\n\n\tif (setLayers) {\n\t\tlayers = generateShapes(palette)\n\t}\n\tsetLayerColors()\n}\n\nfunction makeControls() {\n\tcontrols = new Controls()\n\tpaletteSelect = controls.createSelect({\n\t\tlabelString: 'palette',\n\t\toptions: urls,\n\t\tuseOptionsIndex: true,\n\t\tselected: 0,\n\t\tonChange: () => reset(true, false, paletteSelect.el.selected()),\n\t})\n\n\tcontrols.createBtnSet({\n\t\tbtns: [\n\t\t\t{\n\t\t\t\tlabelString: 'randomize colors',\n\t\t\t\tonClick: setLayerColors,\n\t\t\t},\n\t\t\t{ labelString: 'save', onClick: saveCanvas },\n\t\t\t{\n\t\t\t\tlabelString: 'new image',\n\t\t\t\tonClick: () => reset(true, true),\n\t\t\t},\n\t\t],\n\t})\n}\n\nwindow.setup = setup\nwindow.draw = draw\n","module.exports = \"270c2fea9726e43e\";","import * as p5 from 'p5'\n\ntype LayerOpts = {\n\tsides?: number\n\tradius?: number\n\talpha?: number\n\ttimes?: number\n\trStep?: number\n\tcol: p5.Color\n\trInit?: number\n}\n\nexport class ShapesLayer {\n\tsides: number\n\tradius: number\n\talpha: number\n\ttimes: number\n\trStep: number\n\t_color: p5.Color\n\trInit: number\n\n\tconstructor({ sides, radius, alpha, times, rStep, col, rInit }: LayerOpts) {\n\t\tlet m = min(width, height)\n\t\tthis.radius = radius || random(m * 0.01, m * 0.48)\n\t\tthis.sides = sides || random([3, 4, 5, 6, 7])\n\t\tthis.alpha = alpha || random(50, 150)\n\t\tthis.times = times || floor(random(10, 200))\n\t\tthis.rStep = rStep || random(0.005, 0.02)\n\t\tthis.color = color(col)\n\t\tthis.rInit = rInit ?? random(PI)\n\t}\n\n\tset color(col: p5.Color) {\n\t\tthis._color = color(col)\n\t\tthis._color.setAlpha(this.alpha)\n\t}\n\n\tdraw() {\n\t\tlet angle = TWO_PI / this.sides\n\n\t\tstroke(this._color)\n\n\t\tpush()\n\t\trotate(this.rInit - (this.times * this.rStep) / 2)\n\t\tlet i = 0\n\t\twhile (i < this.times) {\n\t\t\trotate(this.rStep)\n\t\t\tbeginShape()\n\t\t\tfor (let i = 0; i <= this.sides; i++) {\n\t\t\t\tlet x = cos(angle * i) * this.radius\n\t\t\t\tlet y = sin(angle * i) * this.radius\n\t\t\t\tvertex(x, y)\n\t\t\t}\n\t\t\tendShape(CLOSE)\n\t\t\ti++\n\t\t}\n\t\tpop()\n\t}\n}\n\nexport function generateShapes(palette: p5.Color[]) {\n\tlet m = min(width, height)\n\tlet radius = m * 0.48\n\tlet layers = []\n\n\twhile (radius > m * 0.03) {\n\t\tlet sides = radius > m * 0.25 ? random([3, 4, 5]) : random([3, 4, 5])\n\t\tlet rStep = sides === 3 ? random(0.005, 0.1) : random(0.005, 0.02)\n\t\tlet times = floor(random(10, (PI * 2) / sides / rStep))\n\t\tlet alpha = sides === 3 ? random(100, 200) : random(50, 150)\n\t\tlayers.push(\n\t\t\tnew ShapesLayer({\n\t\t\t\tsides,\n\t\t\t\tradius,\n\t\t\t\trStep,\n\t\t\t\ttimes,\n\t\t\t\talpha,\n\t\t\t\trInit: random([PI * 0.25, PI * 0.5, 0]),\n\t\t\t\tcol: random(palette),\n\t\t\t})\n\t\t)\n\t\tradius -= random(m * 0.05, m * 0.1)\n\t}\n\n\treturn layers\n}\n"],"names":["$4f31c5d55b61de56$export$e2d8f6e466ff8861","url","split","slice","map","c","$7de509946d8b2e9b$var$palette","$7de509946d8b2e9b$var$controls","$7de509946d8b2e9b$var$paletteSelect","$8e2a3ad07a7bf6cf$var$style","document","createElement","textContent","$parcel$interopDefault","body","appendChild","$8e2a3ad07a7bf6cf$export$c7c44baae9d9f25f","constructor","rightSide","this","shown","shownFromStorage","container","buildContainer","count","activePanel","panels","panelIds","tabBtns","show","localStorage","getItem","boolean","outer","createDiv","class","style","btn","createButton","parent","attribute","addClass","elt","addEventListener","setItem","removeClass","addPanelTabs","tabsContainer","addPanel","titleString","id","tabBtn","push","activatePanel","panel","length","forEach","b","addSection","labelString","secDiv","Object","keys","p","createInput","onChange","timer","inpDiv","inp","errorEl","createSpan","inputItems","input","e","clearTimeout","setTimeout","res","error","console","log","html","onClick","createBtn","d","createBtnSet","btns","className","btnsOutput","createText","text","createSlider","min","max","step","val","floor","l","s","sp2","update","v","value","createPaletteInput","onPaletteUpdate","target","test","createSelect","options","useOptionsIndex","namesAndVals","selected","sDiv","lab","sel","i","option","name","changed","el","label","createRadio","rDiv","radio","opt","$cd194bb69be10be1$export$d48a3fb10d8676b7","sides","radius","alpha","times","rStep","col","rInit","m","width","height","random","color","PI","_color","setAlpha","draw","angle","TWO_PI","stroke","rotate","beginShape","x","cos","y","sin","vertex","endShape","CLOSE","pop","$cd194bb69be10be1$export$2596cda6e40d8e51","palette","layers","$7de509946d8b2e9b$var$layers","$7de509946d8b2e9b$var$urls","$7de509946d8b2e9b$var$setLayerColors","doRedraw","layer","redraw","$7de509946d8b2e9b$var$reset","setPalette","setLayers","paletteIndex","window","setup","createCanvas","innerWidth","innerHeight","shuffle","saveCanvas","noLoop","noFill","strokeWeight","background","translate"],"version":3,"file":"03-radialshapes.js.map"}