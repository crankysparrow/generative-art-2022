{"mappings":"MA6DA,SAASA,EAAOC,EAAGC,GAClB,IAAIC,EAAaC,OAAO,IAAM,KAC1BC,EAAaD,OAAO,IAAM,KAC1BE,EAAaF,OAAO,GAAK,IACzBG,EAAaH,OAAO,IAAM,KAC1BI,EAAQC,MAAML,OAAO,EAAG,IAAK,GAC7BM,EAAQD,MAAML,OAAO,IAAK,GAAI,GAG9BO,EAAI,EACR,KAAOA,GAAK,GAAG,CACd,IAAIC,EAAIC,IAAIC,EAAYH,GAAI,EAAG,EAAGD,EAAOF,GACrCO,GAAI,EACJC,EAAO,GAGX,IADAC,aACOF,GAAK,GAAG,CACd,IAAIG,EAAIC,IAAI,EAAIA,IAAIC,IAAIL,EAAI,GAAIH,GAAI,EAAIA,GACpCS,EAAKN,EAAId,EAAIY,KAAKD,EAAI,GAAK,EAAG,EAAG,EAAGT,EAAYE,GAIhDiB,EAAKJ,EAAIhB,EAAIW,IAAI,GAAKD,EAAI,GAAK,EAAG,EAAG,EAAGN,EAAYC,GACxDS,EAAKO,QAAQ,CAACF,GAAKC,IACnBE,OAAOH,EAAIC,GACXP,GAAK,IACLA,EAAIN,MAAMM,EAAG,EACd,CAEAC,EAAKS,SAAQ,EAAEV,EAAGG,KAAOM,OAAOT,EAAGG,KACnCQ,WAEAf,GAAK,GACN,CACD,CAEA,SAASG,EAAYC,GACpB,OAAOA,EAAIA,EAAIA,CAChB,CAGAY,OAAOC,MA9FP,WACC,IAAIC,EAAIC,IAAIA,IAAIH,OAAOI,WAAYJ,OAAOK,aAAc,KACxDC,aAAaJ,EAAGA,GAChBK,SAASC,QACTC,QACD,EA2FAT,OAAOU,KAzFP,WACCC,WAAW,GACXC,aAAa,GACbC,OAAO,KACPC,SAEA,IACIC,EAAOC,MADG,EAGd,IAAK,IAAI5B,EAAI,EAAGA,EAHF,EAGeA,IAC5B,IAAK,IAAIG,EAAI,EAAGA,EAJH,EAIgBA,IAC5B0B,OACAC,UAAU9B,EAAI2B,EAAMxB,EAAIwB,GACxBG,UAAUH,EAAO,EAAGA,EAAO,GAC3B1C,EAAc,GAAP0C,EAAmB,GAAPA,GACnBI,KAGH,EAwEAnB,OAAOoB,aAAe,IAAMC,Q","sources":["src/scripts/projects/16.ts"],"sourcesContent":["import * as p5 from 'p5'\n\n// https://mathcurve.com/courbes2d.gb/lame/lame.shtml\n// https://en.wikipedia.org/wiki/Superellipse\n// (abs(x/a))^n + (abs(y/b))^n = 1\n// (abs(y/b))^n = 1 - (abs(x/a))^n\n// abs(y/b) = pow(1 - (abs(x/a))^n, 1 / n)\n\nfunction setup() {\n\tlet m = min(min(window.innerWidth, window.innerHeight), 600)\n\tcreateCanvas(m, m)\n\trectMode(CENTER)\n\tnoLoop()\n}\n\nfunction draw() {\n\tbackground(0)\n\tstrokeWeight(1)\n\tstroke(255)\n\tnoFill()\n\n\tlet squares = 2\n\tlet step = width / squares\n\n\tfor (let x = 0; x < squares; x++) {\n\t\tfor (let y = 0; y < squares; y++) {\n\t\t\tpush()\n\t\t\ttranslate(x * step, y * step)\n\t\t\ttranslate(step / 2, step / 2)\n\t\t\tcurves(step * 0.9, step * 0.9)\n\t\t\tpop()\n\t\t}\n\t}\n}\n\nfunction lamÃ©(w, h) {\n\tlet n = 5\n\tlet x = -2\n\tlet vals = []\n\tlet a = 1\n\tlet b = 0.7\n\n\tbeginShape()\n\twhile (x <= 2) {\n\t\tlet y = pow(1 - pow(abs(x / a), n), 1 / n) * b\n\t\tlet px = x * w * 0.45\n\t\t// let px = map(x, -2, 2, -w / 2, w / 2)\n\t\t// --> this is the same as x * w * scaleX if scaleX = 0.25\n\n\t\t// let py = y * h * map(1 - (n - 1) / 6, 0, 1, scaleY_min, scaleY_max)\n\t\tlet py = y * h * 0.45\n\t\tvals.unshift([px, -py])\n\t\tvertex(px, py)\n\t\tx += 0.01\n\t\tx = round(x, 2) // JS precision issues, we need the point at exactly x = 2\n\t}\n\n\tvals.forEach(([x, y]) => vertex(x, y))\n\tendShape()\n}\n\nfunction curves(w, h) {\n\tlet scaleX_min = random(0.13, 0.16)\n\tlet scaleX_max = random(0.17, 0.22)\n\tlet scaleY_min = random(0.3, 0.4)\n\tlet scaleY_max = random(0.41, 0.49)\n\tlet n_max = round(random(7, 15), 1)\n\tlet n_min = round(random(1.5, 5), 1)\n\tlet steps = 20\n\n\tlet c = 0\n\twhile (c <= 1) {\n\t\tlet n = map(easeInCubic(c), 0, 1, n_min, n_max)\n\t\tlet x = -2\n\t\tlet vals = []\n\n\t\tbeginShape()\n\t\twhile (x <= 2) {\n\t\t\tlet y = pow(1 - pow(abs(x / 2), n), 1 / n)\n\t\t\tlet px = x * w * map((n - 1) / 6, 0, 1, scaleX_min, scaleX_max)\n\t\t\t// i have no memory of how i arrived at this (n-1) / 6 thing\n\t\t\t// it is driving me nuts lol\n\n\t\t\tlet py = y * h * map(1 - (n - 1) / 6, 0, 1, scaleY_min, scaleY_max)\n\t\t\tvals.unshift([px, -py])\n\t\t\tvertex(px, py)\n\t\t\tx += 0.01\n\t\t\tx = round(x, 2) // JS precision issues, we need the point at exactly x = 2\n\t\t}\n\n\t\tvals.forEach(([x, y]) => vertex(x, y))\n\t\tendShape()\n\n\t\tc += 1 / steps\n\t}\n}\n\nfunction easeInCubic(x: number): number {\n\treturn x * x * x\n}\n\n// @ts-ignore\nwindow.setup = setup\n// @ts-ignore\nwindow.draw = draw\nwindow.mousePressed = () => redraw()\n"],"names":["$1a35f2071ba8df9e$var$curves","w","h","scaleX_min","random","scaleX_max","scaleY_min","scaleY_max","n_max","round","n_min","c","n","map","$1a35f2071ba8df9e$var$easeInCubic","x","vals","beginShape","y","pow","abs","px","py","unshift","vertex","forEach","endShape","window","setup","m","min","innerWidth","innerHeight","createCanvas","rectMode","CENTER","noLoop","draw","background","strokeWeight","stroke","noFill","step","width","push","translate","pop","mousePressed","redraw"],"version":3,"file":"16.js.map"}