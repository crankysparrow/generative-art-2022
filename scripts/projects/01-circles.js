(()=>{class t{constructor(t,e,i,r){this.x=t,this.y=e,this.dia=i,this.rad=i/2,this.index=r}overlapEdges(t,e,i){return this.x>t-i-this.rad||this.x<i+this.rad||this.y>e-i-this.rad||this.y<i+this.rad}overlapOther(t,e){return dist(this.x,this.y,t.x,t.y)<this.rad+t.rad+e}overlaps(t){if(this.overlapEdges(t.width,t.height,t.space))return!0;for(let e=0;e<t.length;e++)if(this.overlapOther(t[e],t.space))return!0;return!1}distanceTo(t){return dist(this.x,this.y,t.x,t.y)}draw(){circle(this.x,this.y,this.dia)}}class e extends Array{stats={attempts:0};constructor({width:t,height:e,space:i}){super(),this.width=t,this.height=e,this.space=i}createRandomCircle(e){return new t(floor(random(this.width)),floor(random(this.height)),e,this.length)}draw(t){this[t].draw()}pack(t,e=500,i=1/0){let r=0,s=0;for(;r<e&&s<i;){let e=this.createRandomCircle(t);e.overlaps(this)?r++:(r=0,s++,this.push(e))}this.stats.attempts+=r}}let i,r,s,a=document.querySelector(".info"),h=["#0ab03c","#2756fe","#31379e","#41faeb","#6333f5","#8bfc1a","#c850f1","#dd2525","#ee73dd","#fab97c","#fe2e8b","#ff831e"];function n(){r=floor(min(width,height)),i=new e({width:width,height:height,space:2}),i.pack(170,5,2),i.pack(120,3,3),i.pack(80,10,10),i.pack(50,30),i.pack(30,100),i.pack(20,1e3),i.pack(15,2e3)}window.setup=function(){createCanvas(window.innerWidth,window.innerHeight),noLoop(),s=createP(""),s.parent(a)},window.draw=function(){n(),noStroke();let t=shuffle(h);background(t.pop());let e=t.pop(),a=t.pop();fill(a),noStroke(),i.forEach((t=>t.draw()));let d=0;for(;d<10;){let[t,s]=[random(i),random(i)];t.distanceTo(s)>r/2||(fill(e),circle(t.x,t.y,.4*t.dia),circle(s.x,s.y,.4*s.dia),strokeWeight(3),stroke(e),noFill(),line(t.x,t.y,s.x,s.y),d++)}s.html(`generated ${i.length} circles in ${i.stats.attempts} attempts`)},window.windowResized=function(){resizeCanvas(window.innerWidth,window.innerHeight),n()},window.addEventListener("keypress",(t=>{"Space"==t.code&&(t.preventDefault(),redraw())}))})();
//# sourceMappingURL=01-circles.js.map
